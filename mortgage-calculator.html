<div class="container">
  <div class="calculator-grid">
    <!-- Mortgage Calculator Card -->
    <div class="calculator-card">
      <h2><i class="fas fa-home"></i> Mortgage Calculator</h2>
      <div class="form-group">
        <label for="loanAmount">Loan Amount ($)</label>
        <input type="number" id="loanAmount" placeholder="300,000" min="1000" step="1000" class="form-control">
      </div>
      <div class="form-group">
        <label for="interestRate">Interest Rate (%)</label>
        <input type="number" id="interestRate" placeholder="6.5" min="0" max="100" step="0.01" class="form-control">
      </div>
      <div class="form-group">
        <label for="loanTerm">Loan Term (Years)</label>
        <input type="number" id="loanTerm" placeholder="30" min="1" max="50" class="form-control">
      </div>
      <div class="form-group">
        <label for="propertyTax">Annual Property Tax ($)</label>
        <input type="number" id="propertyTax" placeholder="3,000" min="0" step="10" class="form-control">
      </div>
      <div class="form-group">
        <label for="insurance">Annual Insurance ($)</label>
        <input type="number" id="insurance" placeholder="1,200" min="0" step="10" class="form-control">
      </div>
      <button class="calculate-btn" onclick="calculateMortgage()">
        <i class="fas fa-calculator"></i> Calculate Payment
      </button>
      <div id="mortgageResult" class="result"></div>
    </div>

    <!-- Auto Loan Calculator Card -->
    <div class="calculator-card">
      <h2><i class="fas fa-car"></i> Auto Loan Calculator</h2>
      <div class="form-group">
        <label for="carPrice">Car Price ($)</label>
        <input type="number" id="carPrice" placeholder="25,000" min="1000" step="500" class="form-control">
      </div>
      <div class="form-group">
        <label for="downPayment">Down Payment ($)</label>
        <input type="number" id="downPayment" placeholder="5,000" min="0" step="500" class="form-control">
      </div>
      <div class="form-group">
        <label for="autoRate">Interest Rate (%)</label>
        <input type="number" id="autoRate" placeholder="5.5" min="0" max="25" step="0.01" class="form-control">
      </div>
      <div class="form-group">
        <label for="autoTerm">Loan Term (Months)</label>
        <input type="number" id="autoTerm" placeholder="60" min="12" max="84" class="form-control">
      </div>
      <button class="calculate-btn" onclick="calculateAuto()">
        <i class="fas fa-calculator"></i> Calculate Payment
      </button>
      <div id="autoResult" class="result"></div>
    </div>

    <!-- Investment Calculator Card -->
    <div class="calculator-card">
      <h2><i class="fas fa-chart-line"></i> Investment Calculator</h2>
      <div class="form-group">
        <label for="initialInvestment">Initial Investment ($)</label>
        <input type="number" id="initialInvestment" placeholder="10,000" min="0" step="100" class="form-control">
      </div>
      <div class="form-group">
        <label for="monthlyContribution">Monthly Contribution ($)</label>
        <input type="number" id="monthlyContribution" placeholder="500" min="0" step="50" class="form-control">
      </div>
      <div class="form-group">
        <label for="investmentRate">Expected Return Rate (%)</label>
        <input type="number" id="investmentRate" placeholder="7" min="0" max="100" step="0.01" class="form-control">
      </div>
      <div class="form-group">
        <label for="investmentYears">Investment Period (Years)</label>
        <input type="number" id="investmentYears" placeholder="20" min="1" max="50" class="form-control">
      </div>
      <button class="calculate-btn" onclick="calculateInvestment()">
        <i class="fas fa-calculator"></i> Calculate Growth
      </button>
      <div id="investmentResult" class="result"></div>
    </div>
  </div>
</div>

<script>
// Mortgage Calculator Function
function calculateMortgage() {
  const loanAmount = parseFloat(document.getElementById('loanAmount').value);
  const interestRate = parseFloat(document.getElementById('interestRate').value) / 100 / 12;
  const loanTerm = parseFloat(document.getElementById('loanTerm').value) * 12;
  const propertyTax = parseFloat(document.getElementById('propertyTax').value) || 0;
  const insurance = parseFloat(document.getElementById('insurance').value) || 0;

  if (!loanAmount || !interestRate || !loanTerm) {
    alert('Please fill in all required fields');
    return;
  }

  const monthlyInterestFactor = Math.pow(1 + interestRate, loanTerm);
  const monthlyPI = loanAmount * (interestRate * monthlyInterestFactor) / (monthlyInterestFactor - 1);

  const monthlyTax = propertyTax / 12;
  const monthlyInsurance = insurance / 12;
  const totalMonthly = monthlyPI + monthlyTax + monthlyInsurance;

  const totalInterest = (monthlyPI * loanTerm) - loanAmount;

  document.getElementById('mortgageResult').innerHTML = `
    <h3>Your Monthly Payment</h3>
    <div><strong>$${totalMonthly.toFixed(2)}</strong></div>
    <div>Principal & Interest: $${monthlyPI.toFixed(2)}</div>
    <div>Property Tax: $${monthlyTax.toFixed(2)}</div>
    <div>Insurance: $${monthlyInsurance.toFixed(2)}</div>
    <hr>
    <div>Total Interest Paid: $${totalInterest.toFixed(2)}</div>
    <div class="ai-insight">ðŸ’¡ AI Tip: Consider extra principal payments to reduce interest.</div>
  `;
  document.getElementById('mortgageResult').classList.add('show');
}

// Auto Loan Calculator Function
function calculateAuto() {
  const carPrice = parseFloat(document.getElementById('carPrice').value);
  const downPayment = parseFloat(document.getElementById('downPayment').value) || 0;
  const interestRate = parseFloat(document.getElementById('autoRate').value) / 100 / 12;
  const loanTerm = parseFloat(document.getElementById('autoTerm').value);

  if (!carPrice || !interestRate || !loanTerm) {
    alert('Please fill in all required fields');
    return;
  }

  const loanAmount = carPrice - downPayment;
  if (loanAmount <= 0) {
    alert('Down payment cannot be greater than or equal to car price');
    return;
  }

  const monthlyInterestFactor = Math.pow(1 + interestRate, loanTerm);
  const monthlyPayment = loanAmount * (interestRate * monthlyInterestFactor) / (monthlyInterestFactor - 1);
  const totalPayment = monthlyPayment * loanTerm;
  const totalInterest = totalPayment - loanAmount;

  document.getElementById('autoResult').innerHTML = `
    <h3>Your Monthly Payment</h3>
    <div><strong>$${monthlyPayment.toFixed(2)}</strong></div>
    <div>Car Price: $${carPrice.toFixed(2)}</div>
    <div>Down Payment: $${downPayment.toFixed(2)}</div>
    <div>Loan Amount: $${loanAmount.toFixed(2)}</div>
    <div>Total Interest: $${totalInterest.toFixed(2)}</div>
    <div class="ai-insight">ðŸ’¡ AI Tip: Increasing your down payment by 20% can reduce interest significantly.</div>
  `;
  document.getElementById('autoResult').classList.add('show');
}

// Investment Calculator Function
function calculateInvestment() {
  const initialInvestment = parseFloat(document.getElementById('initialInvestment').value) || 0;
  const monthlyContribution = parseFloat(document.getElementById('monthlyContribution').value) || 0;
  const annualRate = parseFloat(document.getElementById('investmentRate').value) / 100;
  const years = parseFloat(document.getElementById('investmentYears').value);

  if (!annualRate || !years) {
    alert('Please fill in all required fields');
    return;
  }

  const monthlyRate = annualRate / 12;
  const totalMonths = years * 12;

  const futureValueInitial = initialInvestment * Math.pow(1 + monthlyRate, totalMonths);
  let futureValueMonthly = 0;
  if (monthlyContribution > 0 && monthlyRate > 0) {
    futureValueMonthly = monthlyContribution * ((Math.pow(1 + monthlyRate, totalMonths) - 1) / monthlyRate);
  } else if (monthlyContribution > 0) {
    futureValueMonthly = monthlyContribution * totalMonths;
  }

  const totalFutureValue = futureValueInitial + futureValueMonthly;
  const totalContributions = initialInvestment + (monthlyContribution * totalMonths);
  const totalGains = totalFutureValue - totalContributions;

  document.getElementById('investmentResult').innerHTML = `
    <h3>Investment Growth</h3>
    <div><strong>$${totalFutureValue.toFixed(2)}</strong> total value after ${years} years</div>
    <div>Total Contributions: $${totalContributions.toFixed(2)}</div>
    <div style="color: #059669;">Investment Gains: $${totalGains.toFixed(2)}</div>
    <div style="color: #059669;">Return on Investment: ${(totalGains / totalContributions * 100).toFixed(2)}%</div>
    <div class="ai-insight">ðŸ’¡ AI Tip: Starting 5 years earlier could add thousands more!</div>
  `;
  document.getElementById('investmentResult').classList.add('show');
}
</script>
