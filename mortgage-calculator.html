<!DOCTYPE html>
<html lang="en" class="no-js" data-color-scheme="light">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    
    <title>ðŸ‡ºðŸ‡¸ Home Loan Pro - AI-Powered Mortgage Calculator 2025 | Live Federal Reserve Rates | Voice Enabled</title>
    <meta name="description" content="Home Loan Pro's AI-powered mortgage calculator with live FRED API rates, voice commands, perfect down payment sync, payment schedule options, and real-time insights. Built for Americans by Americans.">
    <meta name="keywords" content="USA mortgage calculator 2025, AI mortgage calculator, FRED API rates, voice calculator, PMI calculator, FHA VA USDA loans, federal reserve data, American home loans, payment schedule">
    <meta name="author" content="Home Loan Pro - AI-Powered Mortgage Calculator">
    <meta name="robots" content="index, follow, max-image-preview:large, max-snippet:-1, max-video-preview:-1">
    <meta name="language" content="en-US">
    <meta name="geo.region" content="US">
    <meta name="geo.placename" content="United States">
    
    <meta property="og:title" content="ðŸ‡ºðŸ‡¸ Home Loan Pro - AI-Powered Mortgage Calculator 2025 - Live Federal Reserve Rates">
    <meta property="og:description" content="America's most advanced AI-powered mortgage calculator with live FRED API rates and AI insights.">
    <meta property="og:type" content="website">
    <meta property="og:url" content="[Your Website URL]">
    <meta property="og:image" content="[Your Social Share Image URL]">
    <meta property="og:site_name" content="Home Loan Pro">

    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0-beta3/css/all.min.css">
    <link rel="stylesheet" href="mortgage-calculator.css">
    
    <script src="https://cdn.jsdelivr.net/npm/chart.js@3.7.0/dist/chart.min.js"></script>

    <script async src="https://www.googletagmanager.com/gtag/js?id=G-NYBL2CDNQJ"></script>
    <script>
      window.dataLayer = window.dataLayer || [];
      function gtag(){dataLayer.push(arguments);}
      gtag('js', new Date());
      gtag('config', 'G-NYBL2CDNQJ');
    </script>
</head>
<body class="color-scheme-light">

    <header class="main-header">
        <div class="container header-content">
            <h1 class="logo">
                <i class="fas fa-home"></i> AI Mortgage Pro <span class="version">v25.0</span>
            </h1>
            <div class="header-controls">
                <button class="control-btn" onclick="toggleVoiceControl()" aria-label="Toggle Voice Commands">
                    <i class="fas fa-microphone"></i>
                </button>
                <button class="control-btn" onclick="toggleDarkMode()" aria-label="Toggle Dark Mode">
                    <i class="fas fa-moon"></i>
                </button>
                <button class="control-btn" onclick="openSettings()" aria-label="Open Settings">
                    <i class="fas fa-cog"></i>
                </button>
            </div>
        </div>
    </header>

    <section class="hero-section">
        <div class="container hero-content">
            <div class="hero-text">
                <h2>The World's First <span class="highlight-text">AI Mortgage Calculator</span></h2>
                <p>Unlock real-time financial insights with live rates from the Federal Reserve Bank. Designed for Americans, by Americans.</p>
                <div class="hero-badges">
                    <span class="badge badge-primary"><i class="fas fa-bolt"></i> Live FRED API</span>
                    <span class="badge badge-secondary"><i class="fas fa-robot"></i> AI-Powered Insights</span>
                    <span class="badge badge-success"><i class="fas fa-headset"></i> Voice Enabled</span>
                </div>
            </div>
            <div class="hero-rate-widget">
                <p class="rate-status" id="rate-status">
                    <i class="fas fa-chart-line"></i> Fetching Live Rates...
                </p>
                <p class="last-update" id="last-update"></p>
                <div class="rate-indicator-container">
                    <div class="rate-indicator">
                        <span class="rate-label">30-Year Fixed</span>
                        <span class="rate-value" id="current-30-year-rate">--.--%</span>
                    </div>
                    <div class="rate-indicator">
                        <span class="rate-label">15-Year Fixed</span>
                        <span class="rate-value" id="current-15-year-rate">--.--%</span>
                    </div>
                </div>
                <div class="rate-trend-chart">
                     <canvas id="rateTrendChart"></canvas>
                     <p class="trend-indicator" id="trend-indicator"></p>
                </div>
            </div>
        </div>
    </section>

    <main class="calculator-container">
        <div class="container grid-layout">
            
            <section class="panel input-panel">
                <h3 class="panel-title">Mortgage Inputs</h3>
                <div id="calculator-inputs">
                    
                    <div class="form-group">
                        <label for="home-price">Home Price ($)</label>
                        <input type="number" id="home-price" class="form-control" value="450000" min="1000" step="1000" oninput="updateCalculation(); trackUserInput('HomePrice', this.value);">
                    </div>

                    <div class="form-group down-payment-group">
                        <label for="down-payment-amount">Down Payment</label>
                        <div class="input-group">
                            <input type="number" id="down-payment-amount" class="form-control" value="90000" min="0" step="100" oninput="updateDownPayment('amount'); trackUserInput('DownPaymentAmount', this.value);">
                            <span class="input-unit">$</span>
                        </div>
                        <div class="input-group percentage-input">
                            <input type="number" id="down-payment-percentage" class="form-control" value="20" min="0" max="100" step="0.5" oninput="updateDownPayment('percent'); trackUserInput('DownPaymentPercent', this.value);">
                            <span class="input-unit">%</span>
                        </div>
                    </div>

                    <div class="form-group loan-type-group">
                        <label>Loan Type</label>
                        <div class="chip-container" role="radiogroup" aria-label="Loan Type Selection">
                            <button class="loan-type-btn active" data-loan-type="conventional" onclick="selectLoanType('conventional');" aria-pressed="true">Conventional</button>
                            <button class="loan-type-btn" data-loan-type="fha" onclick="selectLoanType('fha');" aria-pressed="false">FHA</button>
                            <button class="loan-type-btn" data-loan-type="va" onclick="selectLoanType('va');" aria-pressed="false">VA</button>
                            <button class="loan-type-btn" data-loan-type="usda" onclick="selectLoanType('usda');" aria-pressed="false">USDA</button>
                        </div>
                    </div>

                    <div class="form-group loan-term-group">
                        <label>Loan Term (Years)</label>
                        <div class="chip-container" role="radiogroup" aria-label="Loan Term Selection">
                            <button class="term-chip active" data-term="30" onclick="selectLoanTerm(30);" aria-pressed="true">30 Year</button>
                            <button class="term-chip" data-term="15" onclick="selectLoanTerm(15);" aria-pressed="false">15 Year</button>
                            <button class="term-chip" data-term="10" onclick="selectLoanTerm(10);" aria-pressed="false">10 Year</button>
                        </div>
                    </div>

                    <div class="form-group">
                        <label for="credit-score">Credit Score (FICO)</label>
                        <input type="number" id="credit-score" class="form-control" value="700" min="500" max="850" step="10" oninput="updateCalculation(); trackUserInput('CreditScore', this.value);">
                    </div>

                    <div class="form-group">
                        <label for="interest-rate">Interest Rate (%)</label>
                        <input type="number" id="interest-rate" class="form-control" value="6.5" min="0.1" max="20" step="0.01" oninput="updateCalculation(); trackUserInput('InterestRate', this.value);">
                        <small class="rate-hint" id="rate-hint">Current market rate is --.--%</small>
                    </div>

                    <div class="form-group">
                        <label for="property-tax">Annual Property Tax ($)</label>
                        <input type="number" id="property-tax" class="form-control" value="6000" min="0" step="100" oninput="updateCalculation(); trackUserInput('PropertyTax', this.value);">
                    </div>

                    <div class="form-group">
                        <label for="home-insurance">Annual Home Insurance ($)</label>
                        <input type="number" id="home-insurance" class="form-control" value="1200" min="0" step="10" oninput="updateCalculation(); trackUserInput('HomeInsurance', this.value);">
                    </div>

                    <div class="form-group pmi-group hidden" id="pmi-group">
                        <label for="pmi-rate">PMI Rate (%)</label>
                        <input type="number" id="pmi-rate" class="form-control" value="0.5" min="0" max="2" step="0.01" oninput="updateCalculation(); trackUserInput('PMIRate', this.value);">
                        <small class="rate-hint pmi-message" id="pmi-message">PMI is required for down payments &lt; 20%.</small>
                    </div>

                    <div class="form-group">
                        <label for="closing-costs-percentage">Closing Costs (%) of Home Price</label>
                        <input type="number" id="closing-costs-percentage" class="form-control" value="3" min="0" max="10" step="0.1" oninput="updateCalculation(); trackUserInput('ClosingCostsPercent', this.value);">
                    </div>

                    <div class="form-group extra-payments-group">
                        <label class="toggle-label" onclick="toggleExtraPayments()">
                            <i class="fas fa-plus-circle"></i> Extra Payments & Options
                        </label>
                        <div id="extra-payments-details" class="extra-payments-details">
                            <div class="input-group-row">
                                <label for="extra-monthly">Extra Monthly ($)</label>
                                <input type="number" id="extra-monthly" class="form-control" value="0" min="0" step="10" oninput="updateCalculation(); trackUserInput('ExtraMonthly', this.value);">
                            </div>
                            <div class="input-group-row">
                                <label for="extra-yearly">Extra Yearly ($)</label>
                                <input type="number" id="extra-yearly" class="form-control" value="0" min="0" step="100" oninput="updateCalculation(); trackUserInput('ExtraYearly', this.value);">
                            </div>
                            <div class="input-group-row">
                                <label for="one-time-extra">One-Time Extra ($)</label>
                                <input type="number" id="one-time-extra" class="form-control" value="0" min="0" step="100" oninput="updateCalculation(); trackUserInput('OneTimeExtra', this.value);">
                            </div>
                            <div class="input-group-row">
                                <label for="extra-weekly">Extra Bi-Weekly ($)</label>
                                <input type="number" id="extra-weekly" class="form-control" value="0" min="0" step="10" oninput="updateCalculation(); trackUserInput('ExtraWeekly', this.value);">
                            </div>
                        </div>
                    </div>

                    <button class="full-width-btn secondary-btn" onclick="resetCalculator()">
                        <i class="fas fa-undo"></i> Reset to Defaults
                    </button>
                    
                </div>
            </section>

            <section class="panel results-panel">
                
                <div class="payment-summary-box">
                    <h3 class="summary-title">Your Estimated Monthly Payment</h3>
                    <div class="main-payment-figure">
                        <span id="monthly-payment-total" class="payment-total">$0,000.00</span>
                    </div>
                    <p class="loan-details-text">
                        Total loan amount: <span id="loan-amount-display">$0</span> for <span id="term-display">30</span> years at <span id="rate-display">0.00%</span>
                    </p>
                </div>

                <nav class="results-tabs">
                    <button class="tab-btn active" data-tab="payment-summary" onclick="switchTab('payment-summary')">Payment Breakdown</button>
                    <button class="tab-btn" data-tab="balance-timeline" onclick="switchTab('balance-timeline')">Mortgage Balance Over Time</button>
                    <button class="tab-btn" data-tab="payment-schedule" onclick="switchTab('payment-schedule')">Payment Schedule</button>
                    <button class="tab-btn" data-tab="ai-insights" onclick="switchTab('ai-insights')">AI Insights</button>
                </nav>

                <div class="tab-content active" id="payment-summary">
                    <h4 class="content-title">Monthly Payment Components</h4>
                    <div class="chart-container">
                        <canvas id="paymentComponentsChart"></canvas>
                    </div>
                    <ul class="breakdown-list" id="breakdown-list">
                        <li><span class="label">Principal & Interest (P&I)</span><span class="value" id="pi-payment-value">$0.00</span></li>
                        <li><span class="label">Property Tax (Escrow)</span><span class="value" id="tax-payment-value">$0.00</span></li>
                        <li><span class="label">Home Insurance (Escrow)</span><span class="value" id="insurance-payment-value">$0.00</span></li>
                        <li id="pmi-breakdown-item" class="hidden"><span class="label">PMI (Private Mortgage Insurance)</span><span class="value" id="pmi-payment-value">$0.00</span></li>
                        <li class="extra-payments-highlight" id="extra-payments-breakdown"><span class="label">Extra Monthly Payments</span><span class="value" id="extra-monthly-value">$0.00</span></li>
                    </ul>
                </div>

                <div class="tab-content" id="balance-timeline">
                    <h4 class="content-title">Mortgage Balance Over Time</h4>
                    <div class="chart-container">
                        <canvas id="mortgageTimelineChart"></canvas>
                    </div>
                    <div class="timeline-legend">
                        <div class="legend-item"><span class="color-box remaining-balance"></span> Remaining Balance</div>
                        <div class="legend-item"><span class="color-box total-principal"></span> Total Principal Paid</div>
                        <div class="legend-item"><span class="color-box total-interest"></span> Total Interest Paid</div>
                    </div>
                </div>

                <div class="tab-content" id="payment-schedule">
                    <h4 class="content-title">Amortization Schedule (Full Loan Term)</h4>
                    <p class="schedule-intro">View a detailed breakdown of how your payment is applied over the life of the loan.</p>
                    <div class="table-scroll-wrapper">
                        <table class="schedule-table">
                            <thead>
                                <tr>
                                    <th>#</th>
                                    <th>Date</th>
                                    <th>Payment</th>
                                    <th>Principal</th>
                                    <th>Interest</th>
                                    <th>Balance</th>
                                </tr>
                            </thead>
                            <tbody id="schedule-body">
                                <tr><td colspan="6" class="schedule-placeholder">Calculate your mortgage to see the schedule.</td></tr>
                            </tbody>
                        </table>
                    </div>
                    <button class="full-width-btn primary-btn" onclick="exportSchedule('csv')"><i class="fas fa-file-csv"></i> Export to CSV</button>
                </div>

                <div class="tab-content" id="ai-insights">
                    <h4 class="content-title"><i class="fas fa-robot"></i> AI-Powered Insights</h4>
                    <div class="ai-insight-box">
                        <p class="ai-insight-status" id="ai-insight-status">Running deep financial analysis...</p>
                        <ul class="ai-insight-list" id="ai-insight-list">
                            <li><i class="fas fa-check-circle"></i> Initial analysis pending user input...</li>
                        </ul>
                    </div>
                </div>

            </section>

            <section class="panel summary-panel">
                <h3 class="panel-title">Overall Loan Summary</h3>

                <div class="summary-stats-grid">
                    <div class="stat-card">
                        <span class="stat-label">Total Interest Paid</span>
                        <span class="stat-value" id="total-interest-paid">$0</span>
                    </div>
                    <div class="stat-card">
                        <span class="stat-label">Total of All Payments</span>
                        <span class="stat-value" id="total-payments">$0</span>
                    </div>
                    <div class="stat-card">
                        <span class="stat-label">Initial Cash to Close</span>
                        <span class="stat-value" id="cash-to-close">$0</span>
                    </div>
                    <div class="stat-card">
                        <span class="stat-label">Payoff Date</span>
                        <span class="stat-value" id="payoff-date">-- / ----</span>
                    </div>
                    <div class="stat-card extra-pay-stat hidden" id="extra-payoff-stat">
                        <span class="stat-label">Payoff with Extra Payments</span>
                        <span class="stat-value" id="extra-payoff-date">-- / ----</span>
                    </div>
                    <div class="stat-card extra-pay-stat hidden" id="extra-interest-stat">
                        <span class="stat-label">Interest Saved</span>
                        <span class="stat-value" id="interest-saved">$0</span>
                    </div>
                </div>
                
                <hr class="summary-divider">

                <div class="actions-section">
                    <h4 class="section-title">Share Your Results</h4>
                    <div class="action-buttons-group">
                        <button class="action-btn primary-btn" onclick="shareResults()">
                            <i class="fas fa-share-alt"></i> Share Result
                        </button>
                        <button class="action-btn secondary-btn" onclick="downloadPDF()">
                            <i class="fas fa-download"></i> Download PDF
                        </button>
                        <button class="action-btn secondary-btn" onclick="switchTab('ai-insights'); document.querySelector('.results-tabs').scrollIntoView();">
                            <i class="fas fa-robot"></i> View AI Insights
                        </button>
                    </div>
                </div>
                
                <hr class="summary-divider">

                <div class="fred-branding">
                    <h4 class="section-title">Financial Data Source</h4>
                    <p>Live rate data provided by the St. Louis Federal Reserve Bank (FRED).</p>
                    <a href="https://fred.stlouisfed.org/" target="_blank" aria-label="Visit FRED Website">
                        <img src="https://fred.stlouisfed.org/resources/fred-logo-small.png" alt="FRED Logo" class="fred-logo">
                    </a>
                </div>

            </section>

        </div>
    </main>

    <footer class="main-footer">
        <div class="container footer-content">
            <p>&copy; 2025 AI Mortgage Pro. All Rights Reserved. Built with **FRED API** and **AI**.</p>
            <div class="footer-badges">
                <span class="badge">FRED API</span>
                <span class="badge">Voice Enabled</span>
                <span class="badge">Mobile Ready</span>
                <span class="badge">WCAG 2.1</span>
            </div>
        </div>
    </footer>

    <div id="loading-indicator" class="loading-overlay" aria-hidden="true">
        <div class="loading-content">
            <div class="loading-spinner" aria-hidden="true"></div>
            <p class="loading-text">Fetching live Federal Reserve rates...</p>
            <p class="loading-subtext" id="fred-error-message"></p>
        </div>
    </div>

    <div id="toast-container" class="toast-container" aria-live="polite" aria-atomic="true"></div>

    <div id="voice-status" class="voice-status" aria-live="polite" aria-hidden="true">
        <div class="voice-status-content">
            <i class="fas fa-microphone voice-status-icon" aria-hidden="true"></i>
            <span class="voice-status-text">Voice control active - speak your commands</span>
            <button class="voice-status-close" onclick="toggleVoiceControl()" 
                    aria-label="Disable voice control">
                <i class="fas fa-times" aria-hidden="true"></i>
            </button>
        </div>
    </div>

    <script src="mortgage-calculator.js" defer></script>
</body>
</html>
