<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>FinGuid Rent vs Buy AI Analyzer</title>
    <link rel="stylesheet" href="style.css">
    <script src="https://cdn.jsdelivr.net/npm/chart.js@3.7.1/dist/chart.min.js"></script>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css">
</head>
<body data-color-scheme="light">

    <header>
        <h1>ðŸ‡ºðŸ‡¸ Rent vs Buy AI Analyzer</h1>
        <button id="theme-toggle-button" class="icon-button"><i class="fas fa-moon"></i> Dark Mode</button>
    </header>

    <main class="calculator-container">
        
        <form id="rent-vs-buy-form" class="input-section card">
            <h2>1. Input Assumptions</h2>

            <div class="input-grid">
                <label for="home-price">Home Price ($):</label>
                <input type="number" id="home-price" value="400000" min="0">
                
                <label for="down-payment">Down Payment ($):</label>
                <input type="number" id="down-payment" value="80000" min="0">

                <label for="interest-rate">Interest Rate (%):</label>
                <div class="input-group">
                    <input type="number" id="interest-rate" value="6.75" step="0.01" min="0">
                    <span class="rate-tip" id="fred-rate-tip-value">6.75%</span>
                </div>

                <label for="loan-term">Loan Term (Years):</label>
                <select id="loan-term">
                    <option value="30" selected>30 Years</option>
                    <option value="15">15 Years</option>
                </select>

                <label for="property-tax">Property Tax Rate (%):</label>
                <input type="number" id="property-tax" value="1.2" step="0.01" min="0">

                <label for="home-insurance">Home Insurance (Annual $):</label>
                <input type="number" id="home-insurance" value="1500" min="0">

                <label for="hoa-fees">HOA Fees (Monthly $):</label>
                <input type="number" id="hoa-fees" value="50" min="0">

                <label for="maintenance">Annual Maintenance (% of Home Value):</label>
                <input type="number" id="maintenance" value="1.0" step="0.1" min="0">

                <label for="closing-costs-buy">Buying Closing Costs ($):</label>
                <input type="number" id="closing-costs-buy" value="8000" min="0">
                
                <label for="monthly-rent">Monthly Rent ($):</label>
                <input type="number" id="monthly-rent" value="2000" min="0">

                <label for="renters-insurance">Renters Insurance (Annual $):</label>
                <input type="number" id="renters-insurance" value="150" min="0">

                <label for="rent-increase">Rent Increase Rate (%):</label>
                <input type="number" id="rent-increase" value="3.0" step="0.1" min="0">

                <label for="years-stay">Years to Stay:</label>
                <input type="number" id="years-stay" value="7" min="1" max="60">
                
                <label for="home-appreciation">Home Appreciation Rate (%):</label>
                <input type="number" id="home-appreciation" value="4.0" step="0.1" min="0">

                <label for="investment-return">Investment Return Rate (%):</label>
                <input type="number" id="investment-return" value="7.0" step="0.1" min="0">

                <label for="tax-rate">Marginal Tax Rate (%):</label>
                <input type="number" id="tax-rate" value="24" step="1" min="0" max="100">

                <label for="selling-costs">Selling Costs Rate (%):</label>
                <input type="number" id="selling-costs" value="6.0" step="0.1" min="0">
            </div>
        </form>

        <section class="results-section">
            <div class="summary-card card">
                <h2>2. Analysis Summary Over <span id="summary-years">7</span> Years</h2>
                <p class="live-rate-note">Live 30yr Mortgage Rate: <strong id="live-rate-value">6.75%</strong></p>

                <div class="summary-details">
                    <div class="detail-item">
                        <span class="detail-label">Total Cost of Renting:</span>
                        <span class="detail-value" id="total-renting-cost">--.--</span>
                    </div>
                    <div class="detail-item">
                        <span class="detail-label">Net Cost of Buying:</span>
                        <span class="detail-value" id="net-buying-cost">--.--</span>
                    </div>
                </div>
                
                <div class="net-advantage-box">
                    <span class="net-advantage-label">Net Financial Advantage:</span>
                    <span class="detail-value" id="net-advantage">--.--</span>
                </div>
            </div>

            <div class="ai-insights card">
                <h2>3. AI Insights</h2>
                <div id="ai-insights-output">
                    <p class="text-info">Enter and adjust the inputs to generate AI-powered insights.</p>
                </div>
            </div>

            <div class="detailed-analysis-card card">
                <h2>4. Detailed Analysis</h2>

                <div class="tabs">
                    <button class="tab-button active" data-tab="comparison-chart">Chart</button>
                    <button class="tab-button" data-tab="cost-breakdown">Breakdown</button>
                </div>

                <div id="comparison-chart" class="tab-content active">
                    <canvas id="rent-vs-buy-chart"></canvas>
                </div>

                <div id="cost-breakdown" class="tab-content">
                    <div class="breakdown-grid">
                        <div class="breakdown-table">
                            <h3>Buying Breakdown (<span class="summary-years-detail">7</span> Yrs)</h3>
                            <table>
                                <tbody id="buying-breakdown-body">
                                    <tr><td colspan="2">--</td></tr>
                                </tbody>
                            </table>
                        </div>
                        <div class="breakdown-table">
                            <h3>Renting Breakdown (<span class="summary-years-detail">7</span> Yrs)</h3>
                            <table>
                                <tbody id="renting-breakdown-body">
                                    <tr><td colspan="2">--</td></tr>
                                </tbody>
                            </table>
                        </div>
                    </div>
                </div>
            </div>
        </section>
    </main>

    <div id="toast-container"></div>

    <script src="rent-vs-buy-calculator.js"></script>
</body>
</html>
