<!DOCTYPE html>
<html lang="en" class="no-js" data-color-scheme="dark">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    
    <title>FinGuid USA - AI Mortgage Calculator 2025 | Live FRED Rates | Federal Reserve Data</title>
    <meta name="description" content="FinGuid USA's AI-powered mortgage calculator with live Federal Reserve rates, voice commands, 50-state tax data, and intelligent financial insights. Your trusted American financial companion.">
    <meta name="keywords" content="FinGuid USA, mortgage calculator, FRED API, Federal Reserve, AI financial calculator, USA mortgage rates, home loan calculator">
    <meta name="author" content="FinGuid USA Financial Calculators">
    <meta name="robots" content="index, follow">
    
    <!-- Open Graph -->
    <meta property="og:title" content="FinGuid USA - AI Mortgage Calculator with Live Federal Reserve Rates">
    <meta property="og:description" content="Calculate your mortgage with live FRED data, AI insights, and 50-state tax rates. America's most advanced financial calculator.">
    <meta property="og:type" content="website">
    <meta property="og:image" content="https://finguid-usa.com/images/og-mortgage-calculator.jpg">
    
    <!-- Twitter Card -->
    <meta name="twitter:card" content="summary_large_image">
    <meta name="twitter:title" content="FinGuid USA Mortgage Calculator">
    <meta name="twitter:description" content="AI-powered mortgage calculator with live Federal Reserve rates">
    
    <!-- Preload Resources -->
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link rel="preconnect" href="https://api.stlouisfed.org">
    
    <!-- Fonts & Icons -->
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.1/css/all.min.css">
    
    <!-- Styles -->
    <link rel="stylesheet" href="mortgage-calculator.css">
    
    <!-- Google Analytics -->
    <script async src="https://www.googletagmanager.com/gtag/js?id=G-NYBL2CDNQJ"></script>
    <script>
      window.dataLayer = window.dataLayer || [];
      function gtag(){dataLayer.push(arguments);}
      gtag('js', new Date());
      gtag('config', 'G-NYBL2CDNQJ');
    </script>
    
    <!-- Chart.js -->
    <script src="https://cdn.jsdelivr.net/npm/chart.js@4.4.1/dist/chart.umd.js" defer></script>
    <script src="https://cdn.jsdelivr.net/npm/chartjs-adapter-date-fns@3.0.0/dist/chartjs-adapter-date-fns.bundle.min.js" defer></script>
    
    <!-- PDF Generation -->
    <script src="https://cdnjs.cloudflare.com/ajax/libs/jspdf/2.5.1/jspdf.umd.min.js" defer></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/html2canvas/1.4.1/html2canvas.min.js" defer></script>
    
    <!-- Schema Markup -->
    <script type="application/ld+json">
    {
        "@context": "https://schema.org",
        "@type": "FinancialService",
        "name": "FinGuid USA Mortgage Calculator",
        "description": "AI-powered mortgage calculator with live Federal Reserve rates and comprehensive financial insights",
        "url": "https://finguid-usa.com/mortgage-calculator",
        "areaServed": "US",
        "serviceType": "Mortgage Calculator"
    }
    </script>
</head>
<body>
    <!-- Header -->
    <header class="header">
        <div class="header-container">
            <div class="logo-section">
                <i class="fas fa-calculator logo-icon"></i>
                <div class="logo-text">
                    <h1>FinGuid USA</h1>
                    <span class="logo-subtitle">Financial Calculators</span>
                </div>
            </div>
            
            <div class="header-controls">
                <button id="theme-toggle" class="control-btn" onclick="toggleTheme()" aria-label="Toggle theme">
                    <i class="fas fa-sun light-icon"></i>
                    <i class="fas fa-moon dark-icon"></i>
                </button>
                <button id="screen-reader-toggle" class="control-btn" onclick="toggleScreenReader()" aria-label="Screen reader mode">
                    <i class="fas fa-volume-up"></i>
                </button>
                <button id="voice-toggle" class="control-btn" onclick="toggleVoiceControl()" aria-label="Voice control">
                    <i class="fas fa-microphone"></i>
                </button>
            </div>
        </div>
    </header>

    <!-- Hero Section -->
    <section class="hero-section">
        <div class="hero-content">
            <div class="hero-badge">
                <i class="fas fa-robot"></i>
                <span>AI Powered</span>
            </div>
            <h1 class="hero-title">Smart Mortgage Calculator</h1>
            <p class="hero-subtitle">Live Federal Reserve Rates • 50-State Tax Data • AI Insights</p>
            
            <div class="fed-partnership">
                <div class="fed-badge">
                    <div class="fed-logo">
                        <i class="fas fa-university fed-icon"></i>
                        <span>Federal Reserve Data Partner</span>
                    </div>
                    <div class="fed-status">
                        <span class="status-indicator live"></span>
                        <span>Live FRED API Connected</span>
                    </div>
                </div>
            </div>
        </div>
    </section>

    <!-- Main Calculator -->
    <div id="app" class="app-container">
        <main class="main-content-grid">
            <!-- Input Section -->
            <section class="input-section">
                <div class="section-header">
                    <h2>Loan Details</h2>
                    <div class="badge-group">
                        <span class="badge badge-ai">AI Input</span>
                        <span class="badge badge-live">Live Rates</span>
                    </div>
                </div>

                <!-- Rate Status -->
                <div class="rate-status-card">
                    <div class="rate-status-header">
                        <i class="fas fa-chart-line"></i>
                        <span>Current Market Rates</span>
                        <span class="last-update" id="rate-update-time">Loading...</span>
                    </div>
                    <div class="rate-grid">
                        <div class="rate-item">
                            <span class="rate-label">30-Year Fixed</span>
                            <span class="rate-value" id="rate-30yr">6.44%</span>
                        </div>
                        <div class="rate-item">
                            <span class="rate-label">15-Year Fixed</span>
                            <span class="rate-value" id="rate-15yr">5.89%</span>
                        </div>
                        <div class="rate-item">
                            <span class="rate-label">10-Year Treasury</span>
                            <span class="rate-value" id="rate-treasury">4.25%</span>
                        </div>
                    </div>
                </div>

                <!-- Input Groups -->
                <div class="input-group">
                    <div class="form-group">
                        <label for="home-price">Home Price ($)</label>
                        <input type="number" id="home-price" class="form-control" value="450000" oninput="updateCalculation(this.id)">
                    </div>

                    <div class="form-group">
                        <label for="down-payment">Down Payment ($)</label>
                        <input type="number" id="down-payment" class="form-control" value="90000" oninput="updateCalculation(this.id)">
                    </div>

                    <div class="form-group">
                        <label for="down-payment-percent">Down Payment (%)</label>
                        <input type="number" id="down-payment-percent" class="form-control" value="20" oninput="updateCalculation(this.id)">
                    </div>

                    <!-- Credit Score Added Here -->
                    <div class="form-group">
                        <label for="credit-score">Credit Score</label>
                        <input type="number" id="credit-score" class="form-control" value="740" min="300" max="850" oninput="updateCalculation(this.id)">
                        <div class="score-indicator">
                            <div class="score-bar">
                                <div class="score-fill" id="score-fill"></div>
                            </div>
                            <div class="score-labels">
                                <span>Poor</span>
                                <span>Excellent</span>
                            </div>
                        </div>
                    </div>

                    <div class="form-group">
                        <label for="interest-rate">Interest Rate (%)</label>
                        <input type="number" id="interest-rate" class="form-control" value="6.44" step="0.01" oninput="updateCalculation(this.id)">
                    </div>

                    <!-- Loan Type & Term -->
                    <div class="form-group">
                        <label>Loan Type</label>
                        <div class="chip-group">
                            <button class="chip active" data-loan-type="conventional" onclick="setLoanType(this)">Conventional</button>
                            <button class="chip" data-loan-type="fha" onclick="setLoanType(this)">FHA</button>
                            <button class="chip" data-loan-type="va" onclick="setLoanType(this)">VA</button>
                            <button class="chip" data-loan-type="usda" onclick="setLoanType(this)">USDA</button>
                        </div>
                    </div>

                    <div class="form-group">
                        <label>Loan Term</label>
                        <div class="chip-group">
                            <button class="chip" data-term="15" onclick="setLoanTerm(this)">15 Years</button>
                            <button class="chip active" data-term="30" onclick="setLoanTerm(this)">30 Years</button>
                        </div>
                    </div>
                </div>

                <!-- Property Information -->
                <div class="input-group">
                    <h3>Property Information</h3>
                    
                    <div class="form-group">
                        <label for="state-select">Property State</label>
                        <select id="state-select" class="form-control" onchange="handleStateChange()">
                            <option value="default">Select State</option>
                        </select>
                    </div>

                    <div class="form-group">
                        <label for="property-tax">Annual Property Tax ($)</label>
                        <input type="number" id="property-tax" class="form-control" value="9000" oninput="updateCalculation(this.id)">
                    </div>

                    <div class="form-group">
                        <label for="home-insurance">Annual Home Insurance ($)</label>
                        <input type="number" id="home-insurance" class="form-control" value="1800" oninput="updateCalculation(this.id)">
                    </div>

                    <div class="form-group">
                        <label for="pmi">Monthly PMI ($)</label>
                        <input type="number" id="pmi" class="form-control" value="0" oninput="updateCalculation(this.id)">
                    </div>

                    <div class="form-group">
                        <label for="hoa-fees">Monthly HOA Fees ($)</label>
                        <input type="number" id="hoa-fees" class="form-control" value="0" oninput="updateCalculation(this.id)">
                    </div>
                </div>

                <!-- Advanced Options -->
                <div class="input-group collapsible" id="advanced-options">
                    <h3 onclick="toggleCollapsible('advanced-options')">
                        Advanced Options
                        <i class="fas fa-chevron-down toggle-icon"></i>
                    </h3>
                    <div class="collapsible-content">
                        <div class="form-group">
                            <label for="extra-monthly">Extra Monthly Payment ($)</label>
                            <input type="number" id="extra-monthly" class="form-control" value="0" oninput="updateCalculation(this.id)">
                        </div>
                        <div class="form-group">
                            <label for="one-time-extra">One-Time Extra Payment ($)</label>
                            <input type="number" id="one-time-extra" class="form-control" value="0" oninput="updateCalculation(this.id)">
                        </div>
                        <div class="form-group">
                            <label for="closing-costs-percentage">Closing Costs (%)</label>
                            <input type="number" id="closing-costs-percentage" class="form-control" value="3" oninput="updateCalculation(this.id)">
                        </div>
                    </div>
                </div>

                <!-- Comparison Tool -->
                <button class="btn btn-compare" onclick="openLoanCompareWindow()">
                    <i class="fas fa-balance-scale"></i>
                    Compare Loan Scenarios
                </button>
            </section>

            <!-- Results Section -->
            <section class="results-section">
                <div class="section-header">
                    <h2>Payment Analysis</h2>
                    <span class="badge badge-live">Live Results</span>
                </div>

                <!-- Monthly Payment Card -->
                <div class="payment-card">
                    <div class="payment-header">
                        <span class="payment-label">Total Monthly Payment</span>
                        <span class="payment-badge">PITI</span>
                    </div>
                    <div class="payment-amount" id="monthly-payment-total">$2,868</div>
                    <div class="payment-breakdown">
                        <div class="breakdown-item">
                            <span>Principal & Interest</span>
                            <span id="pi-monthly">$2,258</span>
                        </div>
                        <div class="breakdown-item">
                            <span>Taxes & Insurance</span>
                            <span id="tax-ins-monthly">$610</span>
                        </div>
                    </div>
                </div>

                <!-- Tabs -->
                <div class="tabs-container">
                    <div class="tabs-header">
                        <button class="tab-btn active" data-tab="summary" onclick="switchTab('summary')">
                            <i class="fas fa-chart-pie"></i>Summary
                        </button>
                        <button class="tab-btn" data-tab="timeline" onclick="switchTab('timeline')">
                            <i class="fas fa-chart-line"></i>Timeline
                        </button>
                        <button class="tab-btn" data-tab="insights" onclick="switchTab('insights')">
                            <i class="fas fa-robot"></i>AI Insights
                        </button>
                        <button class="tab-btn" data-tab="schedule" onclick="switchTab('schedule')">
                            <i class="fas fa-calendar"></i>Schedule
                        </button>
                    </div>

                    <!-- Summary Tab -->
                    <div class="tab-content active" id="tab-summary">
                        <div class="chart-container">
                            <canvas id="paymentComponentsChart"></canvas>
                        </div>
                        <div class="summary-grid">
                            <div class="summary-card">
                                <i class="fas fa-dollar-sign"></i>
                                <div class="summary-content">
                                    <span class="summary-label">Total Loan Cost</span>
                                    <span class="summary-value" id="total-cost">$814,123</span>
                                </div>
                            </div>
                            <div class="summary-card">
                                <i class="fas fa-percentage"></i>
                                <div class="summary-content">
                                    <span class="summary-label">Total Interest</span>
                                    <span class="summary-value" id="total-interest">$454,123</span>
                                </div>
                            </div>
                            <div class="summary-card">
                                <i class="fas fa-calendar-day"></i>
                                <div class="summary-content">
                                    <span class="summary-label">Payoff Date</span>
                                    <span class="summary-value" id="payoff-date">May 2054</span>
                                </div>
                            </div>
                            <div class="summary-card">
                                <i class="fas fa-file-invoice-dollar"></i>
                                <div class="summary-content">
                                    <span class="summary-label">Closing Costs</span>
                                    <span class="summary-value" id="closing-costs">$13,500</span>
                                </div>
                            </div>
                        </div>
                    </div>

                    <!-- Timeline Tab -->
                    <div class="tab-content" id="tab-timeline">
                        <h3>Mortgage Balance Over Time</h3>
                        <div class="chart-container-large">
                            <canvas id="mortgageTimelineChart"></canvas>
                        </div>
                        <div class="treasury-indicator">
                            <div class="treasury-header">
                                <i class="fas fa-university"></i>
                                <span>Market Indicator</span>
                            </div>
                            <div class="treasury-content">
                                <div class="yield-item">
                                    <span>10-Year Treasury Yield:</span>
                                    <span id="treasury-yield-value">4.25%</span>
                                </div>
                                <div class="trend-indicator" id="yield-trend">
                                    <i class="fas fa-arrow-up"></i>
                                    <span>Rising</span>
                                </div>
                            </div>
                        </div>
                    </div>

                    <!-- AI Insights Tab -->
                    <div class="tab-content" id="tab-insights">
                        <div class="insights-header">
                            <h3><i class="fas fa-brain"></i> AI-Powered Financial Insights</h3>
                            <button class="btn btn-sm" onclick="refreshInsights()">
                                <i class="fas fa-sync-alt"></i> Refresh
                            </button>
                        </div>
                        <div class="insights-container" id="ai-insights-output">
                            <div class="insight-loading">
                                <i class="fas fa-sync-alt fa-spin"></i>
                                <span>Analyzing your mortgage scenario...</span>
                            </div>
                        </div>
                    </div>

                    <!-- Schedule Tab -->
                    <div class="tab-content" id="tab-schedule">
                        <div class="schedule-controls">
                            <div class="view-toggle">
                                <button class="btn btn-sm active" onclick="toggleScheduleType('monthly')">Monthly</button>
                                <button class="btn btn-sm" onclick="toggleScheduleType('yearly')">Yearly</button>
                            </div>
                            <div class="export-options">
                                <button class="btn btn-export" onclick="exportSchedule('pdf')">
                                    <i class="fas fa-file-pdf"></i> PDF
                                </button>
                                <button class="btn btn-export" onclick="exportSchedule('csv')">
                                    <i class="fas fa-file-csv"></i> CSV
                                </button>
                            </div>
                        </div>
                        <div class="schedule-table-container">
                            <table class="schedule-table" id="payment-schedule-table">
                                <thead>
                                    <tr>
                                        <th>Period</th>
                                        <th>Payment</th>
                                        <th>Principal</th>
                                        <th>Interest</th>
                                        <th>Balance</th>
                                    </tr>
                                </thead>
                                <tbody></tbody>
                            </table>
                            <div class="pagination" id="schedule-pagination"></div>
                        </div>
                    </div>
                </div>

                <!-- Share Section -->
                <div class="share-section">
                    <h3>Share Your Results</h3>
                    <div class="share-options">
                        <button class="btn btn-share" onclick="shareResults('facebook')">
                            <i class="fab fa-facebook"></i>
                        </button>
                        <button class="btn btn-share" onclick="shareResults('twitter')">
                            <i class="fab fa-twitter"></i>
                        </button>
                        <button class="btn btn-share" onclick="shareResults('whatsapp')">
                            <i class="fab fa-whatsapp"></i>
                        </button>
                        <button class="btn btn-share" onclick="shareResults('linkedin')">
                            <i class="fab fa-linkedin"></i>
                        </button>
                        <button class="btn btn-download" onclick="shareResultsPDF()">
                            <i class="fas fa-download"></i> Download Report
                        </button>
                    </div>
                </div>
            </section>

            <!-- Sponsor Section -->
            <aside class="sponsor-section">
                <div class="section-header">
                    <h2>Recommended Partners</h2>
                    <span class="badge badge-partner">Trusted</span>
                </div>

                <!-- Lender Ads -->
                <div class="ad-card ad-premium">
                    <div class="ad-badge">Featured</div>
                    <div class="ad-content">
                        <div class="ad-icon">
                            <i class="fas fa-piggy-bank"></i>
                        </div>
                        <div class="ad-text">
                            <h4>Get Pre-Approved in Minutes</h4>
                            <p>Compare rates from 200+ lenders. No credit score impact.</p>
                            <div class="ad-rating">
                                <i class="fas fa-star"></i>
                                <i class="fas fa-star"></i>
                                <i class="fas fa-star"></i>
                                <i class="fas fa-star"></i>
                                <i class="fas fa-star-half-alt"></i>
                                <span>4.7 (12K reviews)</span>
                            </div>
                        </div>
                    </div>
                    <button class="btn btn-ad">View Rates</button>
                </div>

                <div class="ad-card">
                    <div class="ad-content">
                        <div class="ad-icon">
                            <i class="fas fa-shield-alt"></i>
                        </div>
                        <div class="ad-text">
                            <h4>Home Insurance Quotes</h4>
                            <p>Save up to $500/year on home insurance. 50-state coverage.</p>
                        </div>
                    </div>
                    <button class="btn btn-ad">Get Quote</button>
                </div>

                <div class="ad-card">
                    <div class="ad-content">
                        <div class="ad-icon">
                            <i class="fas fa-sync-alt"></i>
                        </div>
                        <div class="ad-text">
                            <h4>Refinance Calculator</h4>
                            <p>See if you can save with today's rates. No obligation.</p>
                        </div>
                    </div>
                    <button class="btn btn-ad">Check Savings</button>
                </div>

                <!-- Financial Tools -->
                <div class="tools-section">
                    <h3>More Financial Tools</h3>
                    <div class="tools-grid">
                        <div class="tool-card">
                            <i class="fas fa-home"></i>
                            <span>Affordability Calculator</span>
                        </div>
                        <div class="tool-card">
                            <i class="fas fa-redo"></i>
                            <span>Refinance Calculator</span>
                        </div>
                        <div class="tool-card">
                            <i class="fas fa-chart-bar"></i>
                            <span>Investment Calculator</span>
                        </div>
                        <div class="tool-card">
                            <i class="fas fa-credit-card"></i>
                            <span>Debt Payoff Calculator</span>
                        </div>
                    </div>
                </div>
            </aside>
        </main>
    </div>

    <!-- Footer -->
    <footer class="footer">
        <div class="footer-content">
            <div class="footer-section">
                <div class="footer-logo">
                    <i class="fas fa-calculator"></i>
                    <span>FinGuid USA</span>
                </div>
                <p>America's most trusted financial calculators powered by live Federal Reserve data and AI technology.</p>
                <div class="social-links">
                    <a href="#"><i class="fab fa-facebook"></i></a>
                    <a href="#"><i class="fab fa-twitter"></i></a>
                    <a href="#"><i class="fab fa-linkedin"></i></a>
                    <a href="#"><i class="fab fa-instagram"></i></a>
                </div>
            </div>

            <div class="footer-section">
                <h4>Calculators</h4>
                <ul>
                    <li><a href="#">Mortgage Calculator</a></li>
                    <li><a href="#">Refinance Calculator</a></li>
                    <li><a href="#">Affordability Calculator</a></li>
                    <li><a href="#">Amortization Calculator</a></li>
                    <li><a href="#">Debt-to-Income Calculator</a></li>
                </ul>
            </div>

            <div class="footer-section">
                <h4>Resources</h4>
                <ul>
                    <li><a href="#">Mortgage Rates</a></li>
                    <li><a href="#">Home Buying Guide</a></li>
                    <li><a href="#">Refinance Guide</a></li>
                    <li><a href="#">Credit Score Tips</a></li>
                    <li><a href="#">Financial Glossary</a></li>
                </ul>
            </div>

            <div class="footer-section">
                <h4>Company</h4>
                <ul>
                    <li><a href="#">About Us</a></li>
                    <li><a href="#">How It Works</a></li>
                    <li><a href="#">Partner With Us</a></li>
                    <li><a href="#">Contact</a></li>
                    <li><a href="#">Privacy Policy</a></li>
                </ul>
            </div>
        </div>

        <div class="footer-bottom">
            <div class="footer-badges">
                <span class="badge"><i class="fas fa-shield-alt"></i> Secure</span>
                <span class="badge"><i class="fas fa-mobile-alt"></i> Mobile-Friendly</span>
                <span class="badge"><i class="fas fa-robot"></i> AI-Powered</span>
                <span class="badge"><i class="fas fa-university"></i> FRED Data</span>
            </div>
            <p>&copy; 2025 FinGuid USA Financial Calculators. All rights reserved. | Data provided by Federal Reserve Economic Data</p>
        </div>
    </footer>

    <!-- Modals & Overlays -->
    <div id="loading-indicator" class="loading-overlay">
        <div class="loading-content">
            <div class="loading-spinner"></div>
            <p id="loading-message">Loading...</p>
        </div>
    </div>

    <div id="toast-container" class="toast-container"></div>

    <div id="voice-status" class="voice-status">
        <div class="voice-content">
            <i class="fas fa-microphone"></i>
            <span>Voice control active</span>
            <button onclick="toggleVoiceControl()">
                <i class="fas fa-times"></i>
            </button>
        </div>
    </div>

    <script src="mortgage-calculator.js"></script>
</body>
</html>
