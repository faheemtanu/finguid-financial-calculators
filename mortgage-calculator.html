<!DOCTYPE html>
<html lang="en" class="no-js" data-color-scheme="light">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    
    <title>🇺🇸 Home Loan Pro - AI-Powered Mortgage Calculator 2025 | Live Federal Reserve Rates | Voice Enabled</title>
    <meta name="description" content="Home Loan Pro's AI-powered mortgage calculator with live FRED API rates, voice commands, perfect down payment sync, payment schedule options, and real-time insights. Built for Americans by Americans.">
    <meta name="keywords" content="USA mortgage calculator 2025, AI mortgage calculator, FRED API rates, voice calculator, PMI calculator, FHA VA USDA loans, federal reserve data, American home loans, payment schedule">
    <meta name="author" content="Home Loan Pro - AI-Powered Mortgage Calculator">
    <meta name="robots" content="index, follow, max-image-preview:large, max-snippet:-1, max-video-preview:-1">
    <meta name="language" content="en-US">
    <meta name="geo.region" content="US">
    <meta name="geo.placename" content="United States">
    
    <script async src="https://www.googletagmanager.com/gtag/js?id=G-NYBL2CDNQJ"></script>
    <script>
      window.dataLayer = window.dataLayer || [];
      function gtag(){dataLayer.push(arguments);}
      gtag('js', new Date());
      gtag('config', 'G-NYBL2CDNQJ');
    </script>
    
    <meta property="og:title" content="🇺🇸 Home Loan Pro - AI-Powered Mortgage Calculator 2025 - Live Federal Reserve Rates">
    <meta property="og:description" content="Calculate your perfect American home loan with live FRED rates, AI insights, voice commands, and perfect down payment synchronization. Trusted by millions of Americans.">
    <meta property="og:url" content="https://homeloanpro.com/usa-mortgage">
    <meta property="og:type" content="website">
    <meta property="og:locale" content="en_US">
    <meta property="og:site_name" content="Home Loan Pro - AI-Powered Mortgage Calculator">
    <meta property="og:image" content="https://homeloanpro.com/images/usa-mortgage-calculator-og.jpg">
    <meta property="og:image:width" content="1200">
    <meta property="og:image:height" content="630">
    
    <meta name="twitter:card" content="summary_large_image">
    <meta name="twitter:title" content="🇺🇸 Home Loan Pro - AI-Powered Mortgage Calculator 2025 - AI Powered">
    <meta name="twitter:description" content="America's most advanced mortgage calculator with voice commands and live Federal Reserve rates">
    <meta name="twitter:image" content="https://homeloanpro.com/images/usa-mortgage-calculator-twitter.jpg">
    <meta name="twitter:site" content="@HomeLoanProAI">
    
    <link rel="canonical" href="https://homeloanpro.com/usa-mortgage">
    
    <link rel="icon" href="/favicon.ico" sizes="any">
    <link rel="icon" href="/usa-mortgage-icon.svg" type="image/svg+xml">
    <link rel="apple-touch-icon" href="/apple-touch-icon-180x180.png">
    <link rel="manifest" href="/app.webmanifest">
    <meta name="theme-color" content="#218089" media="(prefers-color-scheme: light)">
    <meta name="theme-color" content="#32b8c6" media="(prefers-color-scheme: dark)">
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-status-bar-style" content="default">
    <meta name="apple-mobile-web-app-title" content="USA Mortgage Calculator">
    
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link rel="preconnect" href="https://api.stlouisfed.org">
    <link rel="preconnect" href="https://corsproxy.io">
    <link rel="dns-prefetch" href="//cdnjs.cloudflare.com">
    <link rel="dns-prefetch" href="//cdn.jsdelivr.net">
    
    <link href="https://fonts.googleapis.com/css2?family=FKGroteskNeue:wght@400;500;550;600&family=Geist:wght@400;500;600&family=Inter:wght@400;500;600&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.1/css/all.min.css" integrity="sha512-DTOQO9RWCH3ppGqcWaEA1BIZOC6xxalwEsw9c2QQeAIftl+Vegovlnee1c9QX4TctnWMn13TZye+giMm8e2LwA==" crossorigin="anonymous" referrerpolicy="no-referrer">
    
    <link rel="stylesheet" href="style.css">
    
    <script src="https://cdn.jsdelivr.net/npm/chart.js@4.4.1/dist/chart.umd.js" defer></script>
    <script src="https://cdn.jsdelivr.net/npm/chartjs-adapter-date-fns@3.0.0/dist/chartjs-adapter-date-fns.bundle.min.js" defer></script>
    
    <script src="https://cdnjs.cloudflare.com/ajax/libs/jspdf/2.5.1/jspdf.umd.min.js" defer></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/html2canvas/1.4.1/html2canvas.min.js" defer></script>
</head>

<body class="font-adjustable" data-color-scheme="light">
    <a href="#main-content" class="skip-link">Skip to main content</a>
    <a href="#calculator-inputs" class="skip-link">Skip to calculator</a>

    <div id="sr-announcements" aria-live="polite" aria-atomic="true" class="sr-only"></div>
    <div id="sr-status" aria-live="assertive" aria-atomic="true" class="sr-only"></div>

    <header class="site-header animated-header" role="banner">
        <div class="header-container">
            <div class="brand-section">
                <a href="#" class="logo-link" aria-label="Home Loan Pro - AI-Powered Mortgage Calculator">
                    <div class="logo-container">
                        <span class="usa-flag" role="img" aria-label="USA Flag">🇺🇸</span>
                        <div class="logo-content">
                            <div class="logo-main">Home Loan Pro</div>
                            <div class="logo-subtitle">AI-Powered Mortgage Calculator</div>
                        </div>
                    </div>
                </a>
            </div>
            
            <nav class="nav-links animated-nav" role="navigation" aria-label="Main navigation">
                <a href="#features" class="nav-link">Features</a>
                <a href="#how-it-works" class="nav-link">How It Works</a>
                <a href="#about" class="nav-link">About</a>
                <a href="#contact" class="nav-link">Contact</a>
            </nav>
            
            <div class="accessibility-controls animated-controls" id="accessibility-controls" role="toolbar" aria-label="Accessibility Controls">
                <div class="font-controls" role="group" aria-label="Font Size Controls">
                    <button type="button" class="control-btn font-btn active" id="font-decrease" 
                            aria-label="Decrease font size" title="Make text smaller"
                            onclick="adjustFontSize('decrease')">
                        <span class="control-icon" aria-hidden="true">-A-</span>
                    </button>
                    <button type="button" class="control-btn font-btn" id="font-reset" 
                            aria-label="Reset font size" title="Reset text size"
                            onclick="adjustFontSize('reset')">
                        <span class="control-icon" aria-hidden="true">Aa</span>
                    </button>
                    <button type="button" class="control-btn font-btn" id="font-increase" 
                            aria-label="Increase font size" title="Make text larger"
                            onclick="adjustFontSize('increase')">
                        <span class="control-icon" aria-hidden="true">+A+</span>
                    </button>
                </div>
                
                <button type="button" class="control-btn theme-btn" id="theme-toggle" 
                        aria-label="Toggle dark mode" title="Switch between light and dark theme"
                        onclick="toggleTheme()">
                    <i class="fas fa-moon theme-icon" aria-hidden="true"></i>
                    <span class="control-label">Dark</span>
                </button>
                
                <button type="button" class="control-btn voice-btn" id="voice-toggle" 
                        aria-label="Toggle voice control" title="Enable voice commands"
                        onclick="toggleVoiceControl()">
                    <i class="fas fa-microphone voice-icon" aria-hidden="true"></i>
                    <span class="control-label">Voice</span>
                </button>
                
                <button type="button" class="control-btn reader-btn" id="screen-reader-toggle" 
                        aria-label="Toggle screen reader mode" title="Enhanced screen reader mode"
                        onclick="toggleScreenReaderMode()">
                    <i class="fas fa-eye reader-icon" aria-hidden="true"></i>
                    <span class="control-label">Reader</span>
                </button>
            </div>
            
            <button class="mobile-menu-toggle" aria-label="Toggle mobile menu">
                <span class="hamburger"></span>
                <span class="hamburger"></span>
                <span class="hamburger"></span>
            </button>
        </div>
        
        <div class="header-middle hero-animation">
            <div class="header-middle-content">
                <div class="tagline">Home Loan Pro — AI‑Powered Mortgage Calculator</div>
                <div class="features-quick">
                    <span class="feature-quick">Live FRED Data</span>
                    <span class="feature-quick">Voice Commands</span>
                    <span class="feature-quick">AI Insights</span>
                </div>
            </div>
        </div>
    </header>

    <main id="main-content" class="calculator-main" role="main">
        <div class="calculator-container">
            
            <section class="input-section" role="form" aria-labelledby="input-section-title" id="calculator-inputs">
                <div class="section-header">
                    <h2 class="section-title" id="input-section-title">
                        <i class="fas fa-home section-icon" aria-hidden="true"></i>
                        USA Loan Details
                    </h2>
                    <div class="section-subtitle">Enter your American home loan information</div>
                </div>

                <div class="form-section">
                    <h3 class="subsection-title">
                        <span class="step-number">1</span>
                        Primary Information
                    </h3>

                    <div class="form-group">
                        <label for="home-price" class="form-label">
                            <span class="label-content">
                                <i class="fas fa-dollar-sign label-icon" aria-hidden="true"></i>
                                Home Price
                            </span>
                            <span class="label-help">Average US home: $428,700</span>
                        </label>
                        <div class="input-group">
                            <span class="input-prefix" aria-hidden="true">$</span>
                            <input type="text" id="home-price" class="form-control" value="450,000" 
                                   aria-describedby="home-price-help" placeholder="450,000"
                                   oninput="updateCalculation('home-price')">
                        </div>
                        <small id="home-price-help" class="help-text">Property tax varies by location and is typically 0.5% to 2.5% of home value</small>
                    </div>

                    <div class="form-group">
                        <label class="form-label">
                            <span class="label-content">
                                <i class="fas fa-piggy-bank label-icon" aria-hidden="true"></i>
                                Down Payment
                            </span>
                            <span class="label-help">Perfect sync between % and $ amounts</span>
                        </label>
                        
                        <div class="input-group">
                            <span class="input-prefix" aria-hidden="true">$</span>
                            <input type="text" id="down-payment" class="form-control" value="90,000" 
                                   aria-label="Down payment in dollars" placeholder="90,000"
                                   oninput="syncDownPaymentDollar()">
                        </div>

                        <div class="input-group percentage-input">
                            <input type="number" id="down-payment-percent" class="form-control" 
                                   min="0" max="100" step="0.1" value="20" 
                                   aria-label="Down payment as percentage" placeholder="20"
                                   oninput="syncDownPaymentPercent()">
                            <span class="input-suffix" aria-hidden="true">%</span>
                        </div>

                        <div class="percentage-chips" role="group" aria-label="Quick down payment percentages">
                            <button type="button" class="percentage-chip" onclick="setDownPaymentChip(3.5, event)" 
                                    aria-label="3.5 percent down payment">
                                <span class="chip-value">3.5%</span>
                                <span class="chip-label">FHA Min</span>
                            </button>
                            <button type="button" class="percentage-chip" onclick="setDownPaymentChip(5, event)"
                                    aria-label="5 percent down payment">
                                <span class="chip-value">5%</span>
                                <span class="chip-label">Conv Min</span>
                            </button>
                            <button type="button" class="percentage-chip" onclick="setDownPaymentChip(10, event)"
                                    aria-label="10 percent down payment">
                                <span class="chip-value">10%</span>
                                <span class="chip-label">Good</span>
                            </button>
                            <button type="button" class="percentage-chip active" onclick="setDownPaymentChip(20, event)"
                                    aria-label="20 percent down payment">
                                <span class="chip-value">20%</span>
                                <span class="chip-label">No PMI</span>
                            </button>
                            <button type="button" class="percentage-chip" onclick="setDownPaymentChip(25, event)"
                                    aria-label="25 percent down payment">
                                <span class="chip-value">25%</span>
                                <span class="chip-label">Excellent</span>
                            </button>
                        </div>
                    </div>

                    <div class="form-group state-dropdown-container">
                        <label for="state-select" class="form-label">
                            <span class="label-content">
                                <i class="fas fa-map-marker-alt label-icon" aria-hidden="true"></i>
                                State (50-State Database)
                            </span>
                            <span class="label-help">Auto-calculates tax & insurance</span>
                        </label>
                        <select id="state-select" class="form-control" onchange="updateStateRates()">
                            <option value="default" selected>Select a State to auto-fill</option>
                            </select>
                        <div class="state-tax-info">
                            <div class="tax-rate">
                                <span>Property Tax Rate:</span>
                                <span class="rate-value" id="property-tax-rate">--%</span>
                            </div>
                            <div class="insurance-rate">
                                <span>Insurance Rate:</span>
                                <span class="rate-value" id="insurance-rate">--%</span>
                            </div>
                        </div>
                    </div>
                    
                    <div class="form-group">
                        <label for="credit-score" class="form-label">
                            <span class="label-content">
                                <i class="fas fa-chart-line label-icon" aria-hidden="true"></i>
                                Credit Score
                            </span>
                            <span class="label-help" id="rate-impact-text">Affects your interest rate</span>
                        </label>
                        <select id="credit-score" class="form-control" aria-describedby="credit-impact"
                                onchange="updateRateFromCredit()">
                            <option value="580">Poor (580 or below) - Higher rates</option>
                            <option value="630">Fair (580-669) - Standard rates</option>
                            <option value="700" selected>Good (670-739) - Competitive rates</option>
                            <option value="780">Very Good (740-799) - Better rates</option>
                            <option value="820">Excellent (800+) - Best rates</option>
                        </select>
                        <div id="credit-impact" class="credit-impact" aria-live="polite"></div>
                    </div>

                    <div class="form-group">
                        <label for="interest-rate" class="form-label">
                            <span class="label-content">
                                <i class="fas fa-percentage label-icon" aria-hidden="true"></i>
                                Interest Rate
                            </span>
                            <div class="rate-info">
                                <span class="live-rate-badge">
                                    <i class="fas fa-wifi live-icon" aria-hidden="true"></i>
                                    Live FRED Rate
                                </span>
                                <button type="button" class="refresh-rate-btn" id="refresh-rate" 
                                        title="Refresh live rate from Federal Reserve"
                                        aria-label="Refresh live rate"
                                        onclick="refreshLiveRate()">
                                    <i class="fas fa-sync-alt" aria-hidden="true"></i>
                                </button>
                            </div>
                        </label>
                        <div class="input-group">
                            <input type="number" id="interest-rate" class="form-control" value="6.44" 
                                   min="0.1" max="20" step="0.01" 
                                   aria-describedby="fred-attribution" placeholder="6.44"
                                   oninput="updateCalculation('interest-rate')">
                            <span class="input-suffix" aria-hidden="true">%</span>
                        </div>
                        <div id="fred-branding">
                            <img src="https://fred.stlouisfed.org/images/fred-logo-2x.png" alt="FRED Logo" class="fred-logo">
                            <div id="fred-attribution" class="federal-attribution">
                                <small>Source: Federal Reserve Economic Data (FRED), Federal Reserve Bank of St. Louis</small>
                                <small id="fred-last-update">Last Update: <span id="fred-update-date">Fetching...</span> (Data typically updated Thursdays)</small>
                            </div>
                        </div>
                    </div>

                    <div class="form-group">
                        <label class="form-label">
                            <span class="label-content">
                                <i class="fas fa-calendar-alt label-icon" aria-hidden="true"></i>
                                Loan Term
                            </span>
                            <span class="label-help">Choose preset or enter custom term</span>
                        </label>
                        
                        <div class="term-chips compact-75" role="group" aria-label="Loan term options">
                            <button type="button" class="term-chip" data-term="10" onclick="selectTerm(10, event)">
                                <span class="term-years">10</span>
                                <span class="term-label">Years</span>
                            </button>
                            <button type="button" class="term-chip" data-term="15" onclick="selectTerm(15, event)">
                                <span class="term-years">15</span>
                                <span class="term-label">Years</span>
                            </button>
                            <button type="button" class="term-chip" data-term="20" onclick="selectTerm(20, event)">
                                <span class="term-years">20</span>
                                <span class="term-label">Years</span>
                            </button>
                            <button type="button" class="term-chip active" data-term="30" onclick="selectTerm(30, event)">
                                <span class="term-years">30</span>
                                <span class="term-label">Years</span>
                            </button>
                        </div>

                        <div class="custom-term-group">
                            <label for="custom-term" class="custom-term-label">Custom Term (5-40 years)</label>
                            <div class="input-group">
                                <input type="number" id="custom-term" class="form-control" 
                                       min="5" max="40" placeholder="Enter years"
                                       aria-label="Custom loan term in years"
                                       oninput="selectCustomTerm()">
                                <span class="input-suffix" aria-hidden="true">Years</span>
                            </div>
                        </div>
                    </div>

                    <div class="loan-type-section">
                        <h3 class="subsection-title">
                            <span class="step-number">🏦</span>
                            Loan Type
                            <span class="subsection-help">Choose the best loan program</span>
                        </h3>
                        
                        <div class="loan-type-grid half-size" role="group" aria-label="Loan type options">
                            <button type="button" class="loan-type-btn active" data-loan-type="conventional" 
                                    onclick="selectLoanType('conventional', event)" aria-pressed="true">
                                <div class="loan-icon">
                                    <i class="fas fa-university" aria-hidden="true"></i>
                                </div>
                                <div class="loan-content">
                                    <h4 class="loan-title">Conventional</h4>
                                    <p class="loan-description">Best rates for good credit</p>
                                </div>
                            </button>
                            
                            <button type="button" class="loan-type-btn" data-loan-type="fha" 
                                    onclick="selectLoanType('fha', event)" aria-pressed="false">
                                <div class="loan-icon">
                                    <i class="fas fa-home" aria-hidden="true"></i>
                                </div>
                                <div class="loan-content">
                                    <h4 class="loan-title">FHA</h4>
                                    <p class="loan-description">First-time buyer friendly</p>
                                </div>
                            </button>
                            
                            <button type="button" class="loan-type-btn" data-loan-type="va" 
                                    onclick="selectLoanType('va', event)" aria-pressed="false">
                                <div class="loan-icon">
                                    <i class="fas fa-medal" aria-hidden="true"></i>
                                </div>
                                <div class="loan-content">
                                    <h4 class="loan-title">VA</h4>
                                    <p class="loan-description">For military & veterans</p>
                                </div>
                            </button>
                            
                            <button type="button" class="loan-type-btn" data-loan-type="usda" 
                                    onclick="selectLoanType('usda', event)" aria-pressed="false">
                                <div class="loan-icon">
                                    <i class="fas fa-tractor" aria-hidden="true"></i>
                                </div>
                                <div class="loan-content">
                                    <h4 class="loan-title">USDA</h4>
                                    <p class="loan-description">For eligible rural areas</p>
                                </div>
                            </button>
                        </div>
                    </div>
                </div>

                <div class="form-section">
                    <h3 class="subsection-title">
                        <span class="step-number">2</span>
                        Property & Insurance Details
                    </h3>

                    <div class="form-group">
                        <label for="property-tax" class="form-label">
                            <span class="label-content">
                                <i class="fas fa-receipt label-icon" aria-hidden="true"></i>
                                Property Tax (Annual)
                            </span>
                            <span class="label-help">Auto-fills from State selection</span>
                        </label>
                        <div class="input-group">
                            <span class="input-prefix" aria-hidden="true">$</span>
                            <input type="text" id="property-tax" class="form-control" value="3420" 
                                   placeholder="0" oninput="updateCalculation('property-tax')">
                        </div>
                    </div>

                    <div class="form-group">
                        <label for="home-insurance" class="form-label">
                            <span class="label-content">
                                <i class="fas fa-shield-alt label-icon" aria-hidden="true"></i>
                                Home Insurance (Annual)
                            </span>
                            <span class="label-help">Auto-fills from State selection</span>
                        </label>
                        <div class="input-group">
                            <span class="input-prefix" aria-hidden="true">$</span>
                            <input type="text" id="home-insurance" class="form-control" value="2700" 
                                   placeholder="0" oninput="updateCalculation('home-insurance')">
                        </div>
                    </div>

                    <div class="form-group">
                        <label for="pmi" class="form-label">
                            <span class="label-content">
                                <i class="fas fa-umbrella label-icon" aria-hidden="true"></i>
                                PMI (Auto-Calculated)
                            </span>
                            <span class="label-help">Based on loan type and down payment</span>
                        </label>
                        <div class="input-group">
                            <span class="input-prefix" aria-hidden="true">$</span>
                            <input type="text" id="pmi" class="form-control" value="0" 
                                   placeholder="0" readonly>
                        </div>
                        <div id="pmi-status" class="pmi-status" aria-live="polite"></div>
                    </div>

                    <div class="form-group">
                        <label for="hoa-fees" class="form-label">
                            <span class="label-content">
                                <i class="fas fa-building label-icon" aria-hidden="true"></i>
                                HOA Fees (Monthly)
                            </span>
                            <span class="label-help">If applicable</span>
                        </label>
                        <div class="input-group">
                            <span class="input-prefix" aria-hidden="true">$</span>
                            <input type="text" id="hoa-fees" class="form-control" value="0" 
                                   placeholder="0" oninput="updateCalculation('hoa-fees')">
                        </div>
                    </div>
                </div>

                <div class="form-section">
                    <h3 class="subsection-title">
                        <span class="step-number">3</span>
                        Extra Payments (Optional)
                    </h3>

                    <div class="form-group">
                        <label for="extra-monthly" class="form-label">
                            <span class="label-content">
                                <i class="fas fa-plus-circle label-icon" aria-hidden="true"></i>
                                Extra Monthly Payment
                            </span>
                            <span class="label-help">Reduce principal and save interest</span>
                        </label>
                        <div class="input-group">
                            <span class="input-prefix" aria-hidden="true">$</span>
                            <input type="text" id="extra-monthly" class="form-control" value="0" 
                                   placeholder="0" oninput="updateCalculation('extra-monthly')">
                        </div>
                    </div>

                    <div class="form-group">
                        <label for="extra-weekly" class="form-label">
                            <span class="label-content">
                                <i class="fas fa-calendar-week label-icon" aria-hidden="true"></i>
                                Extra Weekly Payment
                            </span>
                            <span class="label-help">Bi-weekly strategy for faster payoff</span>
                        </label>
                        <div class="input-group">
                            <span class="input-prefix" aria-hidden="true">$</span>
                            <input type="text" id="extra-weekly" class="form-control" value="0" 
                                   placeholder="0" oninput="updateCalculation('extra-weekly')">
                        </div>
                    </div>

                    <div class="form-group">
                        <label for="one-time-extra" class="form-label">
                            <span class="label-content">
                                <i class="fas fa-calendar-plus label-icon" aria-hidden="true"></i>
                                One-Time Extra Payment
                            </span>
                            <span class="label-help">Make a single extra payment</span>
                        </label>
                        <div class="input-group">
                            <span class="input-prefix" aria-hidden="true">$</span>
                            <input type="text" id="one-time-extra" class="form-control" value="0" 
                                   placeholder="0" oninput="updateCalculation('one-time-extra')">
                        </div>
                    </div>
                </div>

                <div class="form-section">
                    <h3 class="subsection-title">
                        <span class="step-number">4</span>
                        Closing Costs Estimation
                    </h3>

                    <div class="form-group">
                        <label for="closing-costs-percentage" class="form-label">
                            <span class="label-content">
                                <i class="fas fa-percent label-icon" aria-hidden="true"></i>
                                Closing Costs Percentage
                            </span>
                            <span class="label-help">Typical range 2-5% of home price</span>
                        </label>
                        <div class="input-group">
                            <input type="number" id="closing-costs-percentage" class="form-control" 
                                   min="0" max="10" step="0.1" value="3" 
                                   placeholder="3" oninput="updateCalculation('closing-costs-percentage')">
                            <span class="input-suffix" aria-hidden="true">%</span>
                        </div>
                        <div class="closing-costs-display">
                            <span class="closing-costs-amount" id="closing-costs-amount">= $13,500</span>
                            <span class="closing-costs-note">Typical closing costs range from 2-5% of home price</span>
                        </div>
                    </div>

                    <div class="auto-update-notice">
                        All calculations update automatically as you type - no calculate button needed!
                    </div>
                </div>
            </section>

            <section class="results-section" role="main" aria-labelledby="results-section-title">
                <div class="section-header">
                    <h2 class="section-title" id="results-section-title">
                        <i class="fas fa-calculator section-icon" aria-hidden="true"></i>
                        Monthly Payment Breakdown
                    </h2>
                    <div class="section-subtitle">Your personalized mortgage calculation</div>
                </div>

                <div class="results-tabs" role="tablist" aria-label="Mortgage calculation results">
                    <button class="tab-btn active" data-tab="payment" role="tab" aria-selected="true" 
                            aria-controls="payment-tab" onclick="switchTab('payment')">
                        Payment Details
                    </button>
                    <button class="tab-btn" data-tab="ai-insights" role="tab" aria-selected="false" 
                            aria-controls="ai-insights-tab" onclick="switchTab('ai-insights')">
                        AI-Powered Insights
                    </button>
                    <button class="tab-btn" data-tab="amortization" role="tab" aria-selected="false" 
                            aria-controls="amortization-tab" onclick="switchTab('amortization')">
                        Amortization
                    </button>
                </div>

                <div id="payment-tab" class="tab-content active" role="tabpanel" aria-labelledby="payment-tab">
                    <div class="main-payment-card">
                        <div class="payment-header">
                            <h3 class="payment-title">Total Monthly Payment</h3>
                            <span class="loan-type-badge" id="loan-type-display">Conventional</span>
                        </div>
                        <div class="payment-amount">
                            <span class="payment-value" id="total-monthly-payment">$2,499</span>
                            <div class="payment-breakdown">
                                <span id="principal-interest">$2,256 P&I</span>
                                <span class="breakdown-separator">+</span>
                                <span id="tax-insurance">$243 T&I</span>
                            </div>
                        </div>
                    </div>

                    <div class="chart-section payment-components">
                        <div class="chart-header">
                            <h4 class="chart-title">Payment Components</h4>
                        </div>
                        <div class="chart-container">
                            <canvas id="payment-chart" width="400" height="300" 
                                    aria-label="Payment components breakdown pie chart" 
                                    role="img"></canvas>
                        </div>
                    </div>

                    <div class="loan-summary colorful">
                        <h4 class="summary-title">
                            <i class="fas fa-chart-bar summary-icon" aria-hidden="true"></i>
                            Loan Summary
                        </h4>
                        <div class="summary-grid">
                            <div class="summary-item loan-amount">
                                <div class="summary-icon">
                                    <i class="fas fa-home" aria-hidden="true"></i>
                                </div>
                                <div class="summary-details">
                                    <span class="summary-label">Loan Amount</span>
                                    <span class="summary-value" id="summary-loan-amount">$360,000</span>
                                </div>
                            </div>
                            <div class="summary-item total-interest">
                                <div class="summary-icon">
                                    <i class="fas fa-chart-line" aria-hidden="true"></i>
                                </div>
                                <div class="summary-details">
                                    <span class="summary-label">Total Interest Paid</span>
                                    <span class="summary-value" id="summary-total-interest">$452,394</span>
                                </div>
                            </div>
                            <div class="summary-item total-cost">
                                <div class="summary-icon">
                                    <i class="fas fa-dollar-sign" aria-hidden="true"></i>
                                </div>
                                <div class="summary-details">
                                    <span class="summary-label">Total Loan Cost</span>
                                    <span class="summary-value" id="summary-total-cost">$812,394</span>
                                </div>
                            </div>
                            <div class="summary-item payoff-date">
                                <div class="summary-icon">
                                    <i class="fas fa-calendar-check" aria-hidden="true"></i>
                                </div>
                                <div class="summary-details">
                                    <span class="summary-label">Payoff Date</span>
                                    <span class="summary-value" id="summary-payoff-date">Nov 2053</span>
                                </div>
                            </div>
                            <div class="summary-item closing-costs">
                                <div class="summary-icon">
                                    <i class="fas fa-receipt" aria-hidden="true"></i>
                                </div>
                                <div class="summary-details">
                                    <span class="summary-label">Est. Closing Costs</span>
                                    <span class="summary-value" id="summary-closing-costs">$13,500</span>
                                </div>
                            </div>
                        </div>
                    </div>

                    <div class="loan-analysis-section">
                        <h4 class="analysis-title">Mortgage Balance Over Time</h4>
                        <div class="chart-container">
                            <canvas id="loan-analysis-chart" width="600" height="400" 
                                    aria-label="Loan analysis chart showing remaining balance, principal paid, and interest paid over time" 
                                    role="img"></canvas>
                        </div>
                        <div class="chart-subtitle" id="loan-analysis-subtitle">Remaining Balance vs. Principal & Interest Paid</div>
                        
                        <div class="year-selector-section">
                            <label for="year-slider" class="year-selector-label">Select Year to View Details</label>
                            <input type="range" id="year-slider" class="year-slider" 
                                   min="1" max="30" value="1" step="1"
                                   aria-label="Select year for detailed analysis"
                                   oninput="updateYearDetails()">
                        </div>

                        <div class="year-details colorful">
                            <h5 class="year-title" id="selected-year-title">Year 1 Details</h5>
                            <div class="details-grid">
                                <div class="detail-item principal-paid">
                                    <div class="detail-icon">
                                        <i class="fas fa-home" aria-hidden="true"></i>
                                    </div>
                                    <div class="detail-content">
                                        <span class="detail-label">Principal Paid (Yearly)</span>
                                        <span class="detail-value" id="year-principal-paid">$4,836</span>
                                    </div>
                                </div>
                                <div class="detail-item interest-paid">
                                    <div class="detail-icon">
                                        <i class="fas fa-percentage" aria-hidden="true"></i>
                                    </div>
                                    <div class="detail-content">
                                        <span class="detail-label">Interest Paid (Yearly)</span>
                                        <span class="detail-value" id="year-interest-paid">$22,238</span>
                                    </div>
                                </div>
                                <div class="detail-item remaining-balance">
                                    <div class="detail-icon">
                                        <i class="fas fa-balance-scale" aria-hidden="true"></i>
                                    </div>
                                    <div class="detail-content">
                                        <span class="detail-label">Remaining Balance</span>
                                        <span class="detail-value" id="year-remaining-balance">$355,164</span>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>

                <div id="ai-insights-tab" class="tab-content" role="tabpanel" aria-labelledby="ai-insights-tab">
                    <div class="ai-insights-section">
                        <h4 class="insights-title">
                            <i class="fas fa-robot insights-icon" aria-hidden="true"></i>
                            AI-Powered Insights
                            <span class="ai-badge">
                                <i class="fas fa-bolt" aria-hidden="true"></i>
                                DYNAMIC AI
                            </span>
                        </h4>
                        <div class="insights-container">
                            <div class="insight-item">
                                <h5 class="insight-title">
                                    <i class="fas fa-lightbulb" aria-hidden="true"></i>
                                    Smart Payment Optimization
                                </h5>
                                <p class="insight-text" id="payment-optimization-insight">
                                    Generating insight...
                                </p>
                            </div>
                            <div class="insight-item">
                                <h5 class="insight-title">
                                    <i class="fas fa-chart-line" aria-hidden="true"></i>
                                    Market Rate Comparison
                                </h5>
                                <p class="insight-text" id="market-comparison-insight">
                                    Generating insight...
                                </p>
                            </div>
                            <div class="insight-item">
                                <h5 class="insight-title">
                                    <i class="fas fa-piggy-bank" aria-hidden="true"></i>
                                    Down Payment & PMI Analysis
                                </h5>
                                <p class="insight-text" id="down-payment-insight">
                                    Generating insight...
                                </p>
                            </div>
                            <div class="insight-item">
                                <h5 class="insight-title">
                                    <i class="fas fa-shield-alt" aria-hidden="true"></i>
                                    Tax & Insurance (PITI) Burden
                                </h5>
                                <p class="insight-text" id="piti-burden-insight">
                                    Generating insight...
                                </p>
                            </div>
                            <div class="insight-item">
                                <h5 class="insight-title">
                                    <i class="fas fa-clock" aria-hidden="true"></i>
                                    Refinancing Opportunity
                                </h5>
                                <p class="insight-text" id="refinancing-insight">
                                    Generating insight...
                                </p>
                            </div>
                        </div>
                    </div>

                    <div class="sharing-section">
                        <h4 class="sharing-title">
                            <i class="fas fa-share-alt sharing-icon" aria-hidden="true"></i>
                            Share & Export
                        </h4>
                        <div class="action-buttons">
                            <button class="action-btn primary" onclick="exportToPDF()">
                                <i class="fas fa-file-pdf" aria-hidden="true"></i>
                                Download PDF
                            </button>
                            <button class="action-btn secondary" onclick="shareResults()">
                                <i class="fas fa-share" aria-hidden="true"></i>
                                Share Results
                            </button>
                            <button class="action-btn secondary" onclick="openLoanCompareWindow()">
                                <i class="fas fa-balance-scale" aria-hidden="true"></i>
                                Compare Scenarios
                            </button>
                            <button class="action-btn secondary" onclick="printResults()">
                                <i class="fas fa-print" aria-hidden="true"></i>
                                Print
                            </button>
                        </div>
                    </div>
                </div>

                <div id="amortization-tab" class="tab-content" role="tabpanel" aria-labelledby="amortization-tab">
                    <div class="payment-schedule-section">
                        <div class="schedule-title">
                            <h4 class="schedule-title">
                                <i class="fas fa-table schedule-icon" aria-hidden="true"></i>
                                Payment Schedule
                            </h4>
                            <div class="schedule-options" role="group" aria-label="Schedule view options">
                                <button class="schedule-btn active" data-view="yearly" 
                                        onclick="toggleScheduleView('yearly')">Yearly</button>
                                <button class="schedule-btn" data-view="monthly" 
                                        onclick="toggleScheduleView('monthly')">Monthly</button>
                            </div>
                        </div>
                        <div class="schedule-container">
                            <div class="schedule-table-wrapper">
                                <table class="schedule-table" aria-label="Amortization schedule">
                                    <thead>
                                        <tr>
                                            <th scope="col">Year</th>
                                            <th scope="col">Principal</th>
                                            <th scope="col">Interest</th>
                                            <th scope="col">Total Paid</th>
                                            <th scope="col">Balance</th>
                                        </tr>
                                    </thead>
                                    <tbody id="schedule-body">
                                        </tbody>
                                </table>
                            </div>
                            <div class="schedule-pagination">
                                <button class="pagination-btn" id="prev-page" onclick="prevSchedulePage()" disabled>
                                    <i class="fas fa-chevron-left" aria-hidden="true"></i>
                                    Previous
                                </button>
                                <span class="pagination-info" id="schedule-page-info">Page 1 of 3</span>
                                <button class="pagination-btn" id="next-page" onclick="nextSchedulePage()">
                                    Next
                                    <i class="fas fa-chevron-right" aria-hidden="true"></i>
                                </button>
                            </div>
                        </div>
                    </div>
                </div>
            </section>

            <section class="sidebar-section" role="complementary" aria-labelledby="sidebar-section-title">
                <div class="section-header">
                    <h2 class="section-title" id="sidebar-section-title">
                        <i class="fas fa-star section-icon" aria-hidden="true"></i>
                        Partner Offers
                    </h2>
                    <div class="section-subtitle">Top-rated American lenders</div>
                </div>

                <div class="partner-showcase">
                    <div class="partner-card featured">
                        <div class="partner-header">
                            <div class="partner-logo">
                                <i class="fas fa-university partner-icon" aria-hidden="true"></i>
                            </div>
                            <div class="partner-info">
                                <h4 class="partner-name">Better Mortgage</h4>
                                <div class="partner-rating">
                                    <span class="rating-stars">★★★★★</span>
                                    <span class="rating-text">4.9/5 (2,400+ reviews)</span>
                                </div>
                            </div>
                        </div>
                        <div class="partner-rates">
                            <div class="rate-display">
                                <span class="rate-label">30-Year Fixed Rate</span>
                                <span class="rate-value">6.32%</span>
                                <span class="rate-apr">6.45% APR</span>
                            </div>
                        </div>
                        <button class="partner-cta primary" onclick="applyPartner('Better Mortgage')">
                            Apply Now - Fast Pre-approval
                        </button>
                    </div>

                    <div class="partner-card">
                        <div class="partner-header">
                            <div class="partner-logo">
                                <i class="fas fa-home partner-icon" aria-hidden="true"></i>
                            </div>
                            <div class="partner-info">
                                <h4 class="partner-name">Rocket Mortgage</h4>
                                <div class="partner-rating">
                                    <span class="rating-stars">★★★★☆</span>
                                    <span class="rating-text">4.7/5 (3,100+ reviews)</span>
                                </div>
                            </div>
                        </div>
                        <div class="partner-rates">
                            <div class="rate-display">
                                <span class="rate-label">30-Year Fixed Rate</span>
                                <span class="rate-value">6.38%</span>
                                <span class="rate-apr">6.52% APR</span>
                            </div>
                        </div>
                        <button class="partner-cta secondary" onclick="applyPartner('Rocket Mortgage')">
                            Get Custom Rate
                        </button>
                    </div>

                    <div class="partner-card">
                        <div class="partner-header">
                            <div class="partner-logo">
                                <i class="fas fa-shield-alt partner-icon" aria-hidden="true"></i>
                            </div>
                            <div class="partner-info">
                                <h4 class="partner-name">Navy Federal</h4>
                                <div class="partner-rating">
                                    <span class="rating-stars">★★★★★</span>
                                    <span class="rating-text">4.8/5 (1,800+ reviews)</span>
                                </div>
                            </div>
                        </div>
                        <div class="partner-rates">
                            <div class="rate-display">
                                <span class="rate-label">VA Loan Special</span>
                                <span class="rate-value">5.99%</span>
                                <span class="rate-apr">6.15% APR</span>
                            </div>
                        </div>
                        <button class="partner-cta secondary" onclick="applyPartner('Navy Federal')">
                            Military & Veterans
                        </button>
                    </div>
                </div>

                <div class="market-insights">
                    <h4 class="section-title">
                        <i class="fas fa-chart-line section-icon" aria-hidden="true"></i>
                        Market Insights
                    </h4>
                    <div class="market-stats">
                        <div class="market-stat">
                            <div class="stat-icon">
                                <i class="fas fa-percentage" aria-hidden="true"></i>
                            </div>
                            <div class="stat-content">
                                <span class="stat-label">30-Year Fixed Avg (FRED)</span>
                                <span class="stat-value" id="market-30yr-rate">--%</span>
                                <span class="stat-change positive" id="market-30yr-change"></span>
                            </div>
                        </div>
                        <div class="market-stat">
                            <div class="stat-icon">
                                <i class="fas fa-chart-area" aria-hidden="true"></i>
                            </div>
                            <div class="stat-content">
                                <span class="stat-label">10-Yr Treasury (DGS10)</span>
                                <span class="stat-value" id="market-dgs10-rate">--%</span>
                                <span class="stat-change negative" id="market-dgs10-change"></span>
                            </div>
                        </div>
                        <div class="market-stat">
                            <div class="stat-icon">
                                <i class="fas fa-home" aria-hidden="true"></i>
                            </div>
                            <div class="stat-content">
                                <span class="stat-label">Median Home Price</span>
                                <span class="stat-value">$428,700</span>
                                <span class="stat-change positive">+2.3%</span>
                            </div>
                        </div>
                    </div>
                </div>

                <div class="ad-space">
                    <div class="ad-container">
                        <div class="ad-label">Sponsored</div>
                        <h5 class="ad-title">Home Insurance Comparison</h5>
                        <p class="ad-description">Compare quotes from top providers and save up to $500 annually on your home insurance.</p>
                        <button class="ad-cta" onclick="showInsuranceComparison()">
                            Get Free Quotes
                        </button>
                    </div>
                </div>
            </section>
        </div>
    </main>

    <div class="voice-modal" id="voice-modal" role="dialog" aria-labelledby="voice-modal-title" aria-modal="true">
        <div class="voice-modal-content">
            <div class="voice-modal-header">
                <h3 class="modal-title" id="voice-modal-title">
                    <i class="fas fa-microphone modal-icon" aria-hidden="true"></i>
                    Voice Control
                </h3>
                <button class="modal-close-btn" onclick="closeVoiceModal()" aria-label="Close voice control">
                    <i class="fas fa-times" aria-hidden="true"></i>
                </button>
            </div>
            <div class="voice-modal-body">
                <div class="voice-instructions">
                    <h4 class="instructions-title">Voice Commands Available:</h4>
                    
                    <div class="command-category">
                        <h5 class="category-title">Basic Navigation</h5>
                        <ul class="command-list">
                            <li>"Calculate payment" - Run calculation</li>
                            <li>"Reset calculator" - Clear all fields</li>
                            <li>"Show results" - Jump to results</li>
                            <li>"Help" - Show this help</li>
                        </ul>
                    </div>
                    
                    <div class="command-category">
                        <h5 class="category-title">Input Commands</h5>
                        <ul class="command-list">
                            <li>"Set home price [amount]" - Set home price</li>
                            <li>"Set down payment [amount]" - Set down payment</li>
                            <li>"Set interest rate [rate]" - Set interest rate</li>
                            <li>"Set loan term [years]" - Set loan term</li>
                        </ul>
                    </div>
                    
                    <div class="command-category">
                        <h5 class="category-title">Advanced Features</h5>
                        <ul class="command-list">
                            <li>"Compare loans" - Open comparison</li>
                            <li>"Export to PDF" - Save as PDF</li>
                            <li>"Share results" - Share calculation</li>
                            <li>"Toggle dark mode" - Switch theme</li>
                        </ul>
                    </div>
                </div>
            </div>
            <div class="voice-modal-footer">
                <button class="modal-btn secondary" onclick="closeVoiceModal()">
                    <i class="fas fa-times" aria-hidden="true"></i>
                    Cancel
                </button>
                <button class="modal-btn primary" onclick="startVoiceRecognition()">
                    <i class="fas fa-microphone" aria-hidden="true"></i>
                    Start Listening
                </button>
            </div>
        </div>
    </div>

    <footer class="site-footer" role="contentinfo">
        <div class="footer-container">
            <div class="footer-content">
                <div class="footer-brand">
                    <div class="footer-logo">
                        <span class="usa-flag" role="img" aria-label="USA Flag">🇺🇸</span>
                        <div class="footer-logo-text">
                            <div class="footer-brand-name">Home Loan Pro</div>
                            <div class="footer-brand-tagline">AI-Powered Mortgage Calculator</div>
                        </div>
                    </div>
                    <p class="footer-description">
                        The most advanced mortgage calculator for American homebuyers. 
                        Featuring live Federal Reserve rates, AI-powered insights, and 
                        voice-enabled calculations.
                    </p>
                </div>
                
                <div class="footer-links">
                    <div class="footer-column">
                        <h4>Calculator</h4>
                        <ul>
                            <li><a href="#features">Features</a></li>
                            <li><a href="#how-it-works">How It Works</a></li>
                            <li><a href="#examples">Examples</a></li>
                            <li><a href="#tutorials">Tutorials</a></li>
                        </ul>
                    </div>
                    
                    <div class="footer-column">
                        <h4>Resources</h4>
                        <ul>
                            <li><a href="#mortgage-guide">Mortgage Guide</a></li>
                            <li><a href="#rate-trends">Rate Trends</a></li>
                            <li><a href="#calculators">All Calculators</a></li>
                            <li><a href="#blog">Blog</a></li>
                        </ul>
                    </div>
                    
                    <div class="footer-column">
                        <h4>Legal</h4>
                        <ul>
                            <li><a href="#privacy">Privacy Policy</a></li>
                            <li><a href="#terms">Terms of Service</a></li>
                            <li><a href="#disclaimer">Disclaimer</a></li>
                            <li><a href="#compliance">Compliance</a></li>
                        </ul>
                    </div>
                    
                    <div class="footer-column">
                        <h4>Support</h4>
                        <ul>
                            <li><a href="#help">Help Center</a></li>
                            <li><a href="#contact">Contact Us</a></li>
                            <li><a href="#feedback">Feedback</a></li>
                            <li><a href="#sitemap">Sitemap</a></li>
                        </ul>
                    </div>
                </div>
            </div>
            
            <div class="footer-bottom">
                <div class="footer-disclaimer">
                    <p>
                        <strong>Important Disclaimer:</strong> This calculator provides estimates only. 
                        Actual loan terms may vary based on lender requirements, creditworthiness, 
                        and other factors. Rates shown are for illustrative purposes and may not 
                        reflect current market conditions. Consult with qualified financial 
                        professionals before making any financial decisions.
                    </p>
                    <p>
                        Federal Reserve Economic Data (FRED®) is a registered trademark of the 
                        Federal Reserve Bank of St. Louis. This calculator uses FRED data for 
                        educational and illustrative purposes only.
                    </p>
                </div>
                
                <div class="footer-copyright">
                    <div class="copyright-left">
                        <p>&copy; 2025 Home Loan Pro - AI-Powered Mortgage Calculator. All rights reserved.</p>
                        <p>Made with ❤️ for American homebuyers</p>
                    </div>
                    <div class="footer-badges">
                        <span class="badge">ADA Compliant</span>
                        <span class="badge">SSL Secure</span>
                        <span class="badge">FRED® Data</span>
                    </div>
                </div>
            </div>
        </div>
    </footer>

    <div class="loading-overlay" id="loading-overlay">
        <div class="loading-content">
            <div class="loading-spinner" aria-hidden="true"></div>
            <p class="loading-text" id="loading-text">Calculating your perfect American home loan...</p>
        </div>
    </div>

    <div class="toast-container" id="toast-container"></div>

    <div class="voice-status" id="voice-status">
        <div class="voice-status-content">
            <i class="fas fa-microphone voice-status-icon" aria-hidden="true"></i>
            <span class="voice-status-text">Listening...</span>
            <button class="voice-status-close" onclick="stopVoiceRecognition()" aria-label="Stop listening">
                <i class="fas fa-times" aria-hidden="true"></i>
            </button>
        </div>
    </div>

    <button class="screen-reader-btn" id="screen-reader-btn" 
            aria-label="Toggle screen reader mode" title="Enhanced screen reader mode"
            onclick="toggleScreenReaderMode()">
        <i class="fas fa-eye" aria-hidden="true"></i>
    </button>

    <div class="comparison-modal" id="comparison-modal" role="dialog" aria-labelledby="comparison-modal-title" aria-modal="true">
        <div class="comparison-modal-content">
            <div class="comparison-header">
                <h3 class="comparison-title" id="comparison-modal-title">
                    <i class="fas fa-balance-scale modal-icon" aria-hidden="true"></i>
                    Compare Loan Scenarios
                </h3>
                <button class="modal-close-btn" onclick="closeComparisonModal()" aria-label="Close comparison">
                    <i class="fas fa-times" aria-hidden="true"></i>
                </button>
            </div>
            <div class="comparison-body">
                <div class="comparison-scenarios" id="comparison-scenarios">
                    </div>
            </div>
            <div class="comparison-footer">
                <button class="modal-btn secondary" onclick="closeComparisonModal()">
                    <i class="fas fa-times" aria-hidden="true"></i>
                    Close
                </button>
                <button class="modal-btn primary" onclick="openLoanCompareWindow()">
                    <i class="fas fa-plus" aria-hidden="true"></i>
                    Add Custom Scenario
                </button>
            </div>
        </div>
    </div>

    <script src="script.js" defer></script>
</body>
</html>
