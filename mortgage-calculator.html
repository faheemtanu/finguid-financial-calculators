<!DOCTYPE html>
<html lang="en" data-color-scheme="light">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    
    <title>AI-Powered Mortgage Calculator Pro — Live Rates & Smart Insights | YourSiteName</title>
    <meta name="description" content="World's First AI-Powered Mortgage Calculator with real-time interest rates, credit score-based rate adjustments, one-time payment analysis, and dynamic financial insights.">
    <meta name="keywords" content="mortgage calculator, home loan calculator, AI mortgage, live rates, credit score, one-time payment, payment schedule, financial insights">
    <meta name="robots" content="index, follow, max-snippet:-1, max-image-preview:large, max-video-preview:-1">
    <meta name="author" content="YourSiteName">
    
    <meta property="og:type" content="website">
    <meta property="og:title" content="AI Mortgage Calculator Pro">
    <meta property="og:description" content="Calculate your mortgage with AI insights and dynamic rates.">
    <meta property="og:url" content="https://yoursite.com/mortgage-calculator">
    
    <script async src="https://www.googletagmanager.com/gtag/js?id=G-NYBL2CDNQJ"></script>
    <script>
      window.dataLayer = window.dataLayer || [];
      function gtag(){dataLayer.push(arguments);}
      gtag('js', new Date());
      gtag('config', 'G-NYBL2CDNQJ');
    </script>

    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0-beta3/css/all.min.css" integrity="sha512-..." crossorigin="anonymous">
    <link rel="stylesheet" href="mortgage-calculator-pro.css">
</head>
<body>

    <header class="header-bar">
        <div class="logo">
            <i class="fas fa-home"></i> Home Loan Pro
        </div>
        <div class="accessibility-controls">
            <button id="theme-toggle" aria-label="Toggle Light/Dark Mode"><i class="fas fa-moon"></i></button>
            <button id="tts-toggle" aria-label="Toggle Text-to-Speech Reader"><i class="fas fa-volume-up"></i></button>
            <div id="voice-status" class="voice-status">Voice: Off</div>
        </div>
    </header>

    <main class="calculator-container">
        
        <section class="inputs-section">
            <h2 class="section-title"><i class="fas fa-calculator"></i> Loan Inputs</h2>

            <div id="current-rates-display" class="current-rates-mini">
                <p>Current USA Rates (FRED) <i class="fas fa-chart-line"></i></p>
                <div class="rate-item">30Y Fixed: <span id="rate-30y">-</span>%</div>
                <div class="rate-item">15Y Fixed: <span id="rate-15y">-</span>%</div>
            </div>

            <form id="mortgage-form" class="form-grid">

                <div class="input-group">
                    <label for="credit-score">Credit Score</label>
                    <select id="credit-score" name="creditScore" required aria-describedby="credit-score-help">
                        <option value="">Select Score Range</option>
                        <option value="760+">760+ (Excellent)</option>
                        <option value="700-759">700-759 (Very Good)</option>
                        <option value="640-699">640-699 (Good)</option>
                        <option value="580-639">580-639 (Fair)</option>
                        <option value="500-579">500-579 (Poor)</option>
                    </select>
                    <small id="credit-score-help">Influences your personalized interest rate.</small>
                </div>

                <div class="input-group">
                    <label for="principal">Home Price / Loan Amount</label>
                    <input type="text" id="principal" value="$300,000" inputmode="numeric" required>
                </div>
                
                <div class="input-group">
                    <label for="down-payment">Down Payment</label>
                    <input type="text" id="down-payment" value="$60,000" inputmode="numeric">
                </div>
                
                <div class="input-group">
                    <label for="interest-rate">Interest Rate (%) <span id="rate-source" class="rate-source-tag"></span></label>
                    <input type="number" id="interest-rate" value="6.5" step="0.01" min="0.01" max="25" required>
                </div>

                <div class="input-group">
                    <label for="loan-term">Loan Term (Years)</label>
                    <input type="number" id="loan-term" value="30" min="5" max="50" required>
                </div>

                <div class="input-group">
                    <label for="property-tax">Property Tax (Annually)</label>
                    <input type="text" id="property-tax" value="$3,600" inputmode="numeric">
                </div>

                <div class="input-group">
                    <label for="insurance">Home Insurance (Annually)</label>
                    <input type="text" id="insurance" value="$1,200" inputmode="numeric">
                </div>
                
                <div class="input-group">
                    <label for="pmi">PMI (Monthly, if applicable)</label>
                    <input type="text" id="pmi" value="$0" inputmode="numeric">
                </div>

                <div class="input-group">
                    <label for="hoa">HOA Dues (Monthly, if applicable)</label>
                    <input type="text" id="hoa" value="$150" inputmode="numeric">
                </div>

                <div class="input-group full-width">
                    <label for="one-time-extra-payment">One-Time Extra Payment</label>
                    <input type="text" id="one-time-extra-payment" value="$0" inputmode="numeric">
                </div>
                <div class="input-group full-width">
                    <label for="one-time-extra-date">Date of One-Time Payment</label>
                    <input type="date" id="one-time-extra-date" value="" title="The date the one-time payment is made">
                </div>

                <div class="input-group full-width">
                    <button type="submit" id="calculate-btn" class="primary-btn"><i class="fas fa-hand-holding-usd"></i> Calculate Mortgage</button>
                    <button type="reset" class="secondary-btn">Clear Form</button>
                </div>
            </form>
        </section>

        <section class="results-section">
            <h2 class="section-title"><i class="fas fa-chart-bar"></i> Results Overview</h2>
            
            <div id="calculation-error" class="error-message" role="alert" style="display: none;">
                ❌ **Calculation Error:** Please check your input values.
            </div>

            <div class="monthly-payment-summary">
                <p>Your Estimated Monthly Payment</p>
                <div id="monthly-payment-value" class="payment-value">$0.00</div>
                <div class="loan-metadata">
                    <span id="loan-meta-principal">Loan: $0</span> | 
                    <span id="loan-meta-term">Term: 0 years</span> | 
                    <span id="loan-meta-rate">Rate: 0.00%</span>
                </div>
            </div>

            <div class="tab-content active" id="payment-summary-section">
                <h3 class="subsection-title">Payment Breakdown & Summary</h3>
                <div class="payment-summary-grid">
                    <div class="payment-table-container">
                        <table class="data-table summary-table" aria-label="Loan and Payment Summary">
                            <thead>
                                <tr>
                                    <th>Component</th>
                                    <th>Monthly</th>
                                    <th>Total (Life of Loan)</th>
                                </tr>
                            </thead>
                            <tbody>
                                <tr class="component-principal">
                                    <td>Principal</td>
                                    <td id="comp-principal-m">$0.00</td>
                                    <td id="comp-principal-t">$0.00</td>
                                </tr>
                                <tr class="component-interest">
                                    <td>Interest</td>
                                    <td id="comp-interest-m">$0.00</td>
                                    <td id="comp-interest-t">$0.00</td>
                                </tr>
                                <tr class="component-tax">
                                    <td>Property Tax</td>
                                    <td id="comp-tax-m">$0.00</td>
                                    <td id="comp-tax-t">$0.00</td>
                                </tr>
                                <tr class="component-insurance">
                                    <td>Insurance</td>
                                    <td id="comp-insurance-m">$0.00</td>
                                    <td id="comp-insurance-t">$0.00</td>
                                </tr>
                                <tr class="component-pmi">
                                    <td>PMI/HOA</td>
                                    <td id="comp-pmi-m">$0.00</td>
                                    <td id="comp-pmi-t">$0.00</td>
                                </tr>
                                <tr class="total-row">
                                    <td>Total Monthly Payment</td>
                                    <td id="comp-total-m" colspan="2">$0.00</td>
                                </tr>
                            </tbody>
                        </table>
                    </div>

                    <div class="chart-container donut-chart-container">
                        <canvas id="payment-donut-chart" role="img" aria-label="Donut chart showing the proportion of payment components: Principal, Interest, Tax, Insurance, and PMI/HOA."></canvas>
                        <p class="chart-label">Payment Component Ratio</p>
                    </div>
                </div>
            </div>

            <div class="tab-content active" id="amortization-chart-section">
                <h3 class="subsection-title">Mortgage Balance Over Time</h3>
                <div class="chart-container">
                    <canvas id="mortgage-balance-chart" role="img" aria-label="Line chart showing the remaining mortgage balance, principal paid, and interest paid over the life of the loan."></canvas>
                </div>
                
                <div class="timeline-slider-controls">
                    <input type="range" id="year-range" min="0" max="30" value="0" step="1" aria-label="Select year on loan timeline">
                    <div class="slider-details">
                        <p>Selected Year: <span id="selected-year">0</span></p>
                        <p>Principal Paid: <span id="principal-paid-year">$0</span></p>
                        <p>Interest Paid: <span id="interest-paid-year">$0</span></p>
                        <p>Remaining Balance: <span id="remaining-balance-year">$0</span></p>
                    </div>
                </div>
            </div>

            <div class="tab-content active" id="ai-insights-section">
                <h3 class="subsection-title"><i class="fas fa-brain"></i> AI-Powered Insights</h3>
                <div id="ai-insights-content" class="ai-insights-box" aria-live="polite">
                    <p class="placeholder">Input your values to unlock personalized affordability and market insights...</p>
                </div>
            </div>

            <div id="universal-sharing-section" class="action-bar top-border">
                <button id="share-result" aria-label="Share Results"><i class="fas fa-share-alt"></i> Share Result</button>
                <button id="download-pdf" aria-label="Download PDF Report"><i class="fas fa-file-pdf"></i> Download PDF</button>
                <button id="print-result" aria-label="Print Report"><i class="fas fa-print"></i> Print</button>
                <button id="save-loan" aria-label="Save Loan Calculation"><i class="fas fa-save"></i> Save</button>
                <button id="loan-comparison" aria-label="Compare Loans"><i class="fas fa-balance-scale"></i> Loan Comparison</button>
            </div>
            
        </section>

        <aside class="advertisement-section">
            <h2 class="section-title"><i class="fas fa-ad"></i> Exclusive Sponsor Offers</h2>

            <div class="ad-container primary-ad">
                <div class="ad-badge">SPONSORED</div>
                <h3 class="ad-title">Find Your Best Rate!</h3>
                <p>Compare pre-qualified offers from our top lenders. Fast & Free.</p>
                <button class="ad-action-btn">Get Quotes Now <i class="fas fa-arrow-right"></i></button>
            </div>
            
            <div class="ad-container secondary-ad">
                <div class="ad-badge">ADVERTISEMENT</div>
                <h4 class="ad-title">Mortgage Lender Spotlight</h4>
                <p>Lock in a 4.9% APR for 15 years with LenderX.</p>
                <a href="#" class="ad-link">Check Eligibility</a>
            </div>

            <div class="ad-container banner-ad">
                <p>300x250 Ad Banner Slot</p>
            </div>

            <div class="ad-container secondary-ad">
                <div class="ad-badge">FINANCIAL TOOL</div>
                <h4 class="ad-title">Need a Better Credit Score?</h4>
                <p>Improve your score for a lower interest rate. Free consultation.</p>
                <a href="#" class="ad-link">Learn More</a>
            </div>

        </aside>

        <section id="payment-schedule-section" class="full-width-section">
            <h2 class="section-title"><i class="fas fa-table"></i> Detailed Payment Schedule</h2>
            <div class="schedule-controls">
                <button id="toggle-schedule-view" class="secondary-btn"><i class="fas fa-calendar-alt"></i> Show Yearly View</button>
                <button id="export-schedule-btn" class="primary-btn"><i class="fas fa-download"></i> Export to CSV/Excel</button>
            </div>
            <div class="schedule-table-container">
                <table id="payment-schedule-table" class="data-table detailed-schedule" aria-live="polite">
                    <thead>
                        <tr>
                            <th>Month/Year</th>
                            <th>Total Payment</th>
                            <th>Principal</th>
                            <th>Interest</th>
                            <th>Tax</th>
                            <th>Insurance</th>
                            <th>PMI</th>
                            <th>HOA</th>
                            <th>Extra Payment</th>
                            <th>Remaining Balance</th>
                        </tr>
                    </thead>
                    <tbody>
                        <tr><td colspan="10">Run a calculation to generate the full payment schedule.</td></tr>
                    </tbody>
                </table>
            </div>
        </section>

    </main>

    <footer class="main-footer">
        <div class="footer-content">
            <div class="disclaimer-section">
                <h4>Disclaimer</h4>
                <p>This calculator provides estimates only. Consult a financial professional for personalized advice. All rates are simulated based on current market data and credit score ranges, not a guaranteed offer.</p>
            </div>
            <div class="footer-badges">
                <div class="badge"><i class="fas fa-universal-access"></i> WCAG 2.1 AA</div>
                <div class="badge"><i class="fas fa-mobile-alt"></i> Mobile & All Device Optimized</div>
                <div class="badge"><i class="fas fa-microchip"></i> AI-Powered Logic</div>
            </div>
        </div>
    </footer>

    <div id="toast-container" class="toast-container" aria-live="polite"></div>

    <script src="https://cdn.jsdelivr.net/npm/chart.js@4.4.2/dist/chart.umd.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/chartjs-plugin-datalabels@2.2.0"></script>
    
    <script src="mortgage-calculator-pro.js"></script>
</body>
</html>
