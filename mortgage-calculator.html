<!DOCTYPE html>
<html lang="en" class="no-js" data-color-scheme="dark">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    
    <title>🇺🇸 FinGuid - AI-Powered Mortgage Calculator 2025 | Live Federal Reserve Rates</title>
    <meta name="description" content="FinGuid's AI-powered mortgage calculator with live FRED API rates, voice commands, 50-state tax/insurance rates, payment schedules, and real-time AI insights.">
    <meta name="keywords" content="USA mortgage calculator 2025, AI mortgage calculator, FinGuid, FRED API rates, voice calculator, PMI calculator, FHA VA USDA loans, federal reserve data, American home loans, payment schedule">
    <meta name="author" content="FinGuid - AI-Powered Financial Guidance">
    <meta name="robots" content="index, follow, max-image-preview:large, max-snippet:-1, max-video-preview:-1">
    <meta name="language" content="en-US">
    <meta name="geo.region" content="US">
    
    <meta property="og:title" content="🇺🇸 FinGuid - AI-Powered Mortgage Calculator 2025 - Live Federal Reserve Rates">
    <meta property="og:description" content="Calculate your perfect American home loan with live FRED rates, AI insights, voice commands, and perfect down payment synchronization.">
    <meta property="og:url" content="https://finguid.com/usa-mortgage">
    <meta property="og:type" content="website">
    <meta property="og:locale" content="en_US">
    <meta property="og:site_name" content="FinGuid - AI-Powered Mortgage Calculator">
    
    <meta name="twitter:card" content="summary_large_image">
    <meta name="twitter:title" content="🇺🇸 FinGuid - AI-Powered Mortgage Calculator 2025 - AI Powered">
    <meta name="twitter:description" content="America's most advanced mortgage calculator with voice commands and live Federal Reserve rates">
    <meta name="twitter:site" content="@FinGuidAI">
    
    <link rel="canonical" href="https://finguid.com/usa-mortgage">
    
    <link rel="icon" href="/favicon.ico" sizes="any">
    <link rel="icon" href="/finguid-icon.svg" type="image/svg+xml">
    <link rel="apple-touch-icon" href="/apple-touch-icon-180x180.png">
    <link rel="manifest" href="/app.webmanifest">
    <meta name="theme-color" content="#32b8c6" media="(prefers-color-scheme: dark)">
    <meta name="theme-color" content="#218089" media="(prefers-color-scheme: light)">
    
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link rel="preconnect" href="https://api.stlouisfed.org">
    
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.1/css/all.min.css" integrity="sha512-DTOQO9RWCH3ppGqcWaEA1BIZOC6xxalwEsw9c2QQeAIftl+Vegovlnee1c9QX4TctnWMn13TZye+giMm8e2LwA==" crossorigin="anonymous" referrerpolicy="no-referrer">
    
    <script src="https://cdn.jsdelivr.net/npm/chart.js@4.4.1/dist/chart.umd.js" defer></script>
    <script src="https://cdn.jsdelivr.net/npm/chartjs-adapter-date-fns@3.0.0/dist/chartjs-adapter-date-fns.bundle.min.js" defer></script>
    
    <script src="https://cdnjs.cloudflare.com/ajax/libs/jspdf/2.5.1/jspdf.umd.min.js" defer></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/html2canvas/1.4.1/html2canvas.min.js" defer></script>
    
    <script async src="https://www.googletagmanager.com/gtag/js?id=G-NYBL2CDNQJ"></script>
    <script>
      window.dataLayer = window.dataLayer || [];
      function gtag(){dataLayer.push(arguments);}
      gtag('js', new Date());
      gtag('config', 'G-NYBL2CDNQJ');
    </script>
    
    <link rel="stylesheet" href="finguid-calculator.css">

</head>

<body class="font-adjustable" data-color-scheme="dark">
    <a href="#main-content" class="skip-link">Skip to main content</a>
    <a href="#calculator-inputs" class="skip-link">Skip to calculator</a>

    <div id="sr-announcements" aria-live="polite" aria-atomic="true" class="sr-only"></div>
    <div id="sr-status" aria-live="assertive" aria-atomic="true" class="sr-only"></div>

    <header class="site-header animated-header" role="banner">
        <div class="header-container">
            <div class="brand-section">
                <a href="#" class="logo-link" aria-label="FinGuid - AI-Powered Mortgage Calculator">
                    <div class="logo-container">
                        <span class="usa-flag" role="img" aria-label="USA Flag">🇺🇸</span>
                        <div class="logo-content">
                            <div class="logo-main">FinGuid</div>
                            <div class="logo-subtitle">AI-Powered Mortgage Calculator</div>
                        </div>
                    </div>
                </a>
            </div>
            
            <nav class="nav-links animated-nav" role="navigation" aria-label="Main navigation">
                <a href="#features" class="nav-link">Features</a>
                <a href="#how-it-works" class="nav-link">How It Works</a>
                <a href="#about" class="nav-link">About</a>
                <a href="#contact" class="nav-link">Contact</a>
            </nav>
            
            <div class="accessibility-controls animated-controls" id="accessibility-controls" role="toolbar" aria-label="Accessibility Controls">
                <div class="font-controls" role="group" aria-label="Font Size Controls">
                    <button type="button" class="control-btn font-btn" id="font-decrease" 
                            aria-label="Decrease font size" title="Make text smaller"
                            onclick="adjustFontSize('decrease')">
                        <span class="control-icon" aria-hidden="true">-A-</span>
                    </button>
                    <button type="button" class="control-btn font-btn active" id="font-reset" 
                            aria-label="Reset font size" title="Reset text size"
                            onclick="adjustFontSize('reset')">
                        <span class="control-icon" aria-hidden="true">Aa</span>
                    </button>
                    <button type="button" class="control-btn font-btn" id="font-increase" 
                            aria-label="Increase font size" title="Make text larger"
                            onclick="adjustFontSize('increase')">
                        <span class="control-icon" aria-hidden="true">+A+</span>
                    </button>
                </div>
                
                <button type="button" class="control-btn theme-btn" id="theme-toggle" 
                        aria-label="Toggle dark mode" title="Switch between light and dark theme"
                        onclick="toggleTheme()">
                    <i class="fas fa-sun theme-icon" aria-hidden="true"></i>
                    <span class="control-label">Light</span>
                </button>
                
                <button type="button" class="control-btn voice-btn" id="voice-toggle" 
                        aria-label="Toggle voice control" title="Enable voice commands"
                        onclick="toggleVoiceControl()">
                    <i class="fas fa-microphone voice-icon" aria-hidden="true"></i>
                    <span class="control-label">Voice</span>
                </button>
                
                <button type="button" class="control-btn reader-btn" id="screen-reader-toggle" 
                        aria-label="Toggle screen reader mode" title="Enhanced screen reader mode"
                        onclick="toggleScreenReaderMode()">
                    <i class="fas fa-eye reader-icon" aria-hidden="true"></i>
                    <span class="control-label">Reader</span>
                </button>
            </div>
            
            <button class="mobile-menu-toggle" aria-label="Toggle mobile menu" onclick="toggleMobileMenu()">
                <span class="hamburger"></span>
                <span class="hamburger"></span>
                <span class="hamburger"></span>
            </button>
        </div>
        
        <div class="header-middle hero-animation">
            <div class="header-middle-content">
                <div class="tagline">FinGuid — AI‑Powered Mortgage Calculator</div>
                <div class="features-quick">
                    <span class="feature-quick">Live FRED Data</span>
                    <span class="feature-quick">Voice Commands</span>
                    <span class="feature-quick">AI Insights</span>
                </div>
            </div>
        </div>
    </header>

    <main id="main-content" class="calculator-main" role="main">
        <div class="calculator-container">
            
            <section class="input-section" role="form" aria-labelledby="input-section-title" id="calculator-inputs">
                <div class="section-header">
                    <h2 class="section-title" id="input-section-title">
                        <i class="fas fa-home section-icon" aria-hidden="true"></i>
                        USA Loan Details
                    </h2>
                    <div class="section-subtitle">Enter your American home loan information</div>
                </div>

                <div class="form-section">
                    <h3 class="subsection-title">
                        <span class="step-number">1</span>
                        Primary Information
                    </h3>

                    <div class="form-group">
                        <label for="home-price" class="form-label">
                            <span class="label-content">
                                <i class="fas fa-dollar-sign label-icon" aria-hidden="true"></i>
                                Home Price
                            </span>
                            <span class="label-help">Average US home: $428,700</span>
                        </label>
                        <div class="input-group">
                            <span class="input-prefix" aria-hidden="true">$</span>
                            <input type="text" id="home-price" class="form-control" value="450000" 
                                   aria-describedby="home-price-help" placeholder="450,000"
                                   oninput="syncDownPaymentPercent();">
                        </div>
                    </div>

                    <div class="form-group">
                        <label class="form-label">
                            <span class="label-content">
                                <i class="fas fa-piggy-bank label-icon" aria-hidden="true"></i>
                                Down Payment
                            </span>
                            <span class="label-help">Auto-syncs % and $</span>
                        </label>
                        
                        <div class="input-group">
                            <span class="input-prefix" aria-hidden="true">$</span>
                            <input type="text" id="down-payment" class="form-control" value="90000" 
                                   aria-label="Down payment in dollars" placeholder="90,000"
                                   oninput="syncDownPaymentDollar()">
                        </div>

                        <div class="input-group percentage-input">
                            <input type="number" id="down-payment-percent" class="form-control" 
                                   min="0" max="100" step="0.1" value="20" 
                                   aria-label="Down payment as percentage" placeholder="20"
                                   oninput="syncDownPaymentPercent()">
                            <span class="input-suffix" aria-hidden="true">%</span>
                        </div>

                        <div class="percentage-chips" role="group" aria-label="Quick down payment percentages">
                            <button type="button" class="percentage-chip" onclick="setDownPaymentChip(3.5, event)" 
                                    aria-label="3.5 percent down payment">
                                <span class="chip-value">3.5%</span>
                                <span class="chip-label">FHA Min</span>
                            </button>
                            <button type="button" class="percentage-chip" onclick="setDownPaymentChip(5, event)"
                                    aria-label="5 percent down payment">
                                <span class="chip-value">5%</span>
                                <span class="chip-label">Conv Min</span>
                            </button>
                            <button type="button" class="percentage-chip" onclick="setDownPaymentChip(10, event)"
                                    aria-label="10 percent down payment">
                                <span class="chip-value">10%</span>
                                <span class="chip-label">Good</span>
                            </button>
                            <button type="button" class="percentage-chip active" onclick="setDownPaymentChip(20, event)"
                                    aria-label="20 percent down payment">
                                <span class="chip-value">20%</span>
                                <span class="chip-label">No PMI</span>
                            </button>
                            <button type="button" class="percentage-chip" onclick="setDownPaymentChip(25, event)"
                                    aria-label="25 percent down payment">
                                <span class="chip-value">25%</span>
                                <span class="chip-label">Excellent</span>
                            </button>
                        </div>
                    </div>
                    
                    <div class="form-group state-dropdown-container">
                        <label for="state-select" class="form-label">
                            <span class="label-content">
                                <i class="fas fa-map-marker-alt label-icon" aria-hidden="true"></i>
                                State
                            </span>
                            <span class="label-help">Auto-calculates tax & insurance</span>
                        </label>
                        <select id="state-select" class="form-control" onchange="updateStateRates()">
                             <option value="default" selected disabled>Select a State to auto-fill</option>
                             </select>
                        <div class="state-tax-info">
                            <div class="tax-rate">
                                <span>Avg. Tax Rate:</span>
                                <span class="rate-value" id="property-tax-rate">--%</span>
                            </div>
                            <div class="insurance-rate">
                                <span>Avg. Ins. Rate:</span>
                                <span class="rate-value" id="insurance-rate">--%</span>
                            </div>
                        </div>
                    </div>

                    <div class="form-group">
                        <label for="credit-score" class="form-label">
                            <span class="label-content">
                                <i class="fas fa-chart-line label-icon" aria-hidden="true"></i>
                                Credit Score
                            </span>
                            <span class="label-help" id="rate-impact-text">Affects your interest rate</span>
                        </label>
                        <select id="credit-score" class="form-control" aria-describedby="credit-impact"
                                onchange="updateRateFromCredit()">
                            <option value="580">Poor (500-579)</option>
                            <option value="630">Fair (580-669)</option>
                            <option value="700" selected>Good (670-739)</option>
                            <option value="780">Very Good (740-799)</option>
                            <option value="820">Excellent (800+)</option>
                        </select>
                        <div id="credit-impact" class="credit-impact neutral" aria-live="polite">
                            Good credit. You qualify for competitive rates.
                        </div>
                    </div>

                    <div class="form-group">
                        <label for="interest-rate" class="form-label">
                            <span class="label-content">
                                <i class="fas fa-percentage label-icon" aria-hidden="true"></i>
                                Interest Rate
                            </span>
                            <div class="rate-info">
                                <span class="live-rate-badge">
                                    <i class="fas fa-wifi live-icon" aria-hidden="true"></i>
                                    <span id="live-rate-status">Live Rate</span>
                                </span>
                                <button type="button" class="refresh-rate-btn" id="refresh-rate" 
                                        title="Refresh live rate from Federal Reserve"
                                        aria-label="Refresh live rate"
                                        onclick="refreshLiveRate()">
                                    <i class="fas fa-sync-alt" aria-hidden="true"></i>
                                </button>
                            </div>
                        </label>
                        <div class="input-group">
                            <input type="number" id="interest-rate" class="form-control" value="6.44" 
                                   min="0.1" max="20" step="0.01" 
                                   aria-describedby="fred-attribution" placeholder="6.44"
                                   oninput="updateCalculation()">
                            <span class="input-suffix" aria-hidden="true">%</span>
                        </div>
                        <div id="fred-attribution" class="federal-attribution">
                            <small>
                                <i class="fas fa-landmark"></i> Powered by Federal Reserve Economic Data (FRED®).
                                <span id="fred-last-updated">Last Updated: Fetching...</span>
                            </small>
                        </div>
                    </div>

                    <div class="form-group">
                        <label class="form-label">
                            <span class="label-content">
                                <i class="fas fa-calendar-alt label-icon" aria-hidden="true"></i>
                                Loan Term
                            </span>
                            <span class="label-help">Auto-selects 15/30yr FRED rate</span>
                        </label>
                        
                        <div class="term-chips" role="group" aria-label="Loan term options">
                            <button type="button" class="term-chip" data-term="10" onclick="selectTerm(10, event)">
                                <span class="term-years">10</span>
                                <span class="term-label">Years</span>
                            </button>
                            <button type="button" class="term-chip" data-term="15" onclick="selectTerm(15, event)">
                                <span class="term-years">15</span>
                                <span class="term-label">Years</span>
                            </button>
                            <button type="button" class="term-chip" data-term="20" onclick="selectTerm(20, event)">
                                <span class="term-years">20</span>
                                <span class="term-label">Years</span>
                            </button>
                            <button type="button" class="term-chip active" data-term="30" onclick="selectTerm(30, event)">
                                <span class="term-years">30</span>
                                <span class="term-label">Years</span>
                            </button>
                        </div>

                        <div class="custom-term-group">
                            <label for="custom-term" class="custom-term-label">Custom Term (5-40 years)</label>
                            <div class="input-group">
                                <input type="number" id="custom-term" class="form-control" 
                                       min="5" max="40" placeholder="Enter years"
                                       aria-label="Custom loan term in years"
                                       oninput="selectCustomTerm()">
                                <span class="input-suffix" aria-hidden="true">Years</span>
                            </div>
                        </div>
                    </div>

                    <div class="loan-type-section">
                        <h3 class="subsection-title">
                            <span class="step-number">🏦</span>
                            Loan Type
                            <span class="subsection-help">Choose the best loan program</span>
                        </h3>
                        
                        <div class="loan-type-grid" role="group" aria-label="Loan type options">
                            <button type="button" class="loan-type-btn active" data-loan-type="conventional" 
                                    onclick="selectLoanType('conventional', event)" aria-pressed="true">
                                <div class="loan-icon">
                                    <i class="fas fa-university" aria-hidden="true"></i>
                                </div>
                                <div class="loan-content">
                                    <h4 class="loan-title">Conventional</h4>
                                    <p class="loan-description">Best rates for good credit</p>
                                </div>
                            </button>
                            
                            <button type="button" class="loan-type-btn" data-loan-type="fha" 
                                    onclick="selectLoanType('fha', event)" aria-pressed="false">
                                <div class="loan-icon">
                                    <i class="fas fa-home" aria-hidden="true"></i>
                                </div>
                                <div class="loan-content">
                                    <h4 class="loan-title">FHA</h4>
                                    <p class="loan-description">First-time buyer friendly</p>
                                </div>
                            </button>
                            
                            <button type="button" class="loan-type-btn" data-loan-type="va" 
                                    onclick="selectLoanType('va', event)" aria-pressed="false">
                                <div class="loan-icon">
                                    <i class="fas fa-medal" aria-hidden="true"></i>
                                </div>
                                <div class="loan-content">
                                    <h4 class="loan-title">VA</h4>
                                    <p class="loan-description">For military & veterans</p>
                                </div>
                            </button>
                            
                            <button type="button" class="loan-type-btn" data-loan-type="usda" 
                                    onclick="selectLoanType('usda', event)" aria-pressed="false">
                                <div class="loan-icon">
                                    <i class="fas fa-tractor" aria-hidden="true"></i>
                                </div>
                                <div class="loan-content">
                                    <h4 class="loan-title">USDA</h4>
                                    <p class="loan-description">For eligible rural areas</p>
                                </div>
                            </button>
                        </div>
                    </div>
                </div>

                <div class="form-section">
                    <h3 class="subsection-title">
                        <span class="step-number">2</span>
                        Property & Insurance Details
                    </h3>

                    <div class="form-group">
                        <label for="property-tax" class="form-label">
                            <span class="label-content">
                                <i class="fas fa-receipt label-icon" aria-hidden="true"></i>
                                Property Tax (Annual)
                            </span>
                            <span class="label-help">Varies by location</span>
                        </label>
                        <div class="input-group">
                            <span class="input-prefix" aria-hidden="true">$</span>
                            <input type="text" id="property-tax" class="form-control" value="9000" 
                                   placeholder="9,000" oninput="updateCalculation()">
                        </div>
                    </div>

                    <div class="form-group">
                        <label for="home-insurance" class="form-label">
                            <span class="label-content">
                                <i class="fas fa-shield-alt label-icon" aria-hidden="true"></i>
                                Home Insurance (Annual)
                            </span>
                            <span class="label-help">Varies by location/coverage</span>
                        </label>
                        <div class="input-group">
                            <span class="input-prefix" aria-hidden="true">$</span>
                            <input type="text" id="home-insurance" class="form-control" value="1800" 
                                   placeholder="1,800" oninput="updateCalculation()">
                        </div>
                    </div>

                    <div class="form-group">
                        <label for="pmi" class="form-label">
                            <span class="label-content">
                                <i class="fas fa-umbrella label-icon" aria-hidden="true"></i>
                                PMI (Auto-Calculated)
                            </span>
                            <span class="label-help">Based on loan type and down payment</span>
                        </label>
                        <div class="input-group">
                            <span class="input-prefix" aria-hidden="true">$</span>
                            <input type="text" id="pmi" class="form-control" value="0" 
                                   placeholder="0" readonly>
                        </div>
                        <div id="pmi-status" class="pmi-status inactive" aria-live="polite">
                            No PMI required - Great job on the down payment!
                        </div>
                    </div>

                    <div class="form-group">
                        <label for="hoa-fees" class="form-label">
                            <span class="label-content">
                                <i class="fas fa-building label-icon" aria-hidden="true"></i>
                                HOA Fees (Monthly)
                            </span>
                            <span class="label-help">If applicable</span>
                        </label>
                        <div class="input-group">
                            <span class="input-prefix" aria-hidden="true">$</span>
                            <input type="text" id="hoa-fees" class="form-control" value="0" 
                                   placeholder="0" oninput="updateCalculation()">
                        </div>
                    </div>
                </div>

                <div class="form-section">
                    <h3 class="subsection-title">
                        <span class="step-number">3</span>
                        Extra Payments (Optional)
                    </h3>

                    <div class="form-group">
                        <label for="extra-monthly" class="form-label">
                            <span class="label-content">
                                <i class="fas fa-plus-circle label-icon" aria-hidden="true"></i>
                                Extra Monthly Payment
                            </span>
                        </label>
                        <div class="input-group">
                            <span class="input-prefix" aria-hidden="true">$</span>
                            <input type="text" id="extra-monthly" class="form-control" value="0" 
                                   placeholder="0" oninput="updateCalculation()">
                        </div>
                    </div>

                    <div class="form-group">
                        <label for="one-time-extra" class="form-label">
                            <span class="label-content">
                                <i class="fas fa-calendar-plus label-icon" aria-hidden="true"></i>
                                One-Time Extra Payment
                            </span>
                        </label>
                        <div class="input-group">
                            <span class="input-prefix" aria-hidden="true">$</span>
                            <input type="text" id="one-time-extra" class="form-control" value="0" 
                                   placeholder="0" oninput="updateCalculation()">
                        </div>
                    </div>
                </div>

                <div class="form-section">
                    <h3 class="subsection-title">
                        <span class="step-number">4</span>
                        Closing Costs Estimation
                    </h3>

                    <div class="form-group">
                        <label for="closing-costs-percentage" class="form-label">
                            <span class="label-content">
                                <i class="fas fa-percent label-icon" aria-hidden="true"></i>
                                Closing Costs Percentage
                            </span>
                            <span class="label-help">Typical range 2-5%</span>
                        </label>
                        <div class="input-group">
                            <input type="number" id="closing-costs-percentage" class="form-control" 
                                   min="0" max="10" step="0.1" value="3" 
                                   placeholder="3" oninput="updateCalculation()">
                            <span class="input-suffix" aria-hidden="true">%</span>
                        </div>
                        <div class="closing-costs-display">
                            <span class="closing-costs-amount" id="closing-costs-amount">= $13,500</span>
                        </div>
                    </div>

                    <div class="auto-update-notice">
                        All calculations update automatically as you type!
                    </div>
                </div>
            </section>

            <section class="results-section" role="main" aria-labelledby="results-section-title">
                <div class="section-header">
                    <h2 class="section-title" id="results-section-title">
                        <i class="fas fa-calculator section-icon" aria-hidden="true"></i>
                        Monthly Payment Breakdown
                    </h2>
                    <div class="section-subtitle">Your personalized mortgage calculation</div>
                </div>

                <div class="results-tabs" role="tablist" aria-label="Mortgage calculation results">
                    <button class="tab-btn active" data-tab="payment" role="tab" aria-selected="true" 
                            aria-controls="payment-tab" onclick="switchTab('payment')">
                        <i class="fas fa-chart-pie" aria-hidden="true"></i> Payment Details
                    </button>
                    <button class="tab-btn" data-tab="ai-insights" role="tab" aria-selected="false" 
                            aria-controls="ai-insights-tab" onclick="switchTab('ai-insights')">
                        <i class="fas fa-robot" aria-hidden="true"></i> AI-Powered Insights
                    </button>
                    <button class="tab-btn" data-tab="amortization" role="tab" aria-selected="false" 
                            aria-controls="amortization-tab" onclick="switchTab('amortization')">
                        <i class="fas fa-chart-area" aria-hidden="true"></i> Amortization
                    </button>
                    <button class="tab-btn" data-tab="schedule" role="tab" aria-selected="false" 
                            aria-controls="schedule-tab" onclick="switchTab('schedule')">
                        <i class="fas fa-table" aria-hidden="true"></i> Schedule
                    </button>
                </div>

                <div id="payment-tab" class="tab-content active" role="tabpanel" aria-labelledby="payment-tab">
                    <div class="main-payment-card">
                        <div class="payment-header">
                            <h3 class="payment-title">Total Monthly Payment</h3>
                            <span class="loan-type-badge" id="loan-type-display">Conventional</span>
                        </div>
                        <div class="payment-amount">
                            <span class="payment-value" id="total-monthly-payment">$2,868</span>
                            <div class="payment-breakdown">
                                <span id="principal-interest">$2,280 P&I</span>
                                <span class="breakdown-separator">+</span>
                                <span id="tax-insurance">$900 T&I</span>
                            </div>
                        </div>
                    </div>

                    <div class="chart-section payment-components">
                        <div class="chart-header">
                            <h4 class="chart-title">Payment Components</h4>
                        </div>
                        <div class="chart-container">
                            <canvas id="payment-chart" width="400" height="300" 
                                    aria-label="Payment components breakdown pie chart" 
                                    role="img"></canvas>
                        </div>
                    </div>

                    <div class="loan-summary colorful">
                        <h4 class="summary-title">
                            <i class="fas fa-chart-bar summary-icon" aria-hidden="true"></i>
                            Loan Summary
                        </h4>
                        <div class="summary-grid">
                            <div class="summary-item loan-amount">
                                <div class="summary-icon">
                                    <i class="fas fa-home" aria-hidden="true"></i>
                                </div>
                                <div class="summary-details">
                                    <span class="summary-label">Loan Amount</span>
                                    <span class="summary-value" id="summary-loan-amount">$360,000</span>
                                </div>
                            </div>
                            <div class="summary-item total-interest">
                                <div class="summary-icon">
                                    <i class="fas fa-chart-line" aria-hidden="true"></i>
                                </div>
                                <div class="summary-details">
                                    <span class="summary-label">Total Interest</span>
                                    <span class="summary-value" id="summary-total-interest">$460,715</span>
                                </div>
                            </div>
                            <div class="summary-item total-cost">
                                <div class="summary-icon">
                                    <i class="fas fa-dollar-sign" aria-hidden="true"></i>
                                </div>
                                <div class="summary-details">
                                    <span class="summary-label">Total Cost</span>
                                    <span class="summary-value" id="summary-total-cost">$1,144,215</span>
                                </div>
                            </div>
                            <div class="summary-item payoff-date">
                                <div class="summary-icon">
                                    <i class="fas fa-calendar-check" aria-hidden="true"></i>
                                </div>
                                <div class="summary-details">
                                    <span class="summary-label">Payoff Date</span>
                                    <span class="summary-value" id="summary-payoff-date">Oct 2055</span>
                                </div>
                            </div>
                            <div class="summary-item closing-costs">
                                <div class="summary-icon">
                                    <i class="fas fa-receipt" aria-hidden="true"></i>
                                </div>
                                <div class="summary-details">
                                    <span class="summary-label">Closing Costs</span>
                                    <span class="summary-value" id="summary-closing-costs">$13,500</span>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>

                <div id="ai-insights-tab" class="tab-content" role="tabpanel" aria-labelledby="ai-insights-tab">
                    <div class="ai-insights-section">
                        <h4 class="insights-title">
                            <i class="fas fa-robot insights-icon" aria-hidden="true"></i>
                            AI-Powered Insights
                            <span class="ai-badge">
                                <i class="fas fa-bolt" aria-hidden="true"></i>
                                LIVE AI
                            </span>
                        </h4>
                        <div class="insights-container" id="ai-insights-output">
                             <div class="insight-item ai-loading">
                                <h5 class="insight-title">
                                    <i class="fas fa-sync fa-spin" aria-hidden="true"></i>
                                    Generating Personalized Insights...
                                </h5>
                                <p class="insight-text">
                                    Analyzing your inputs against live market data...
                                </p>
                            </div>
                        </div>
                    </div>
                </div>

                <div id="amortization-tab" class="tab-content" role="tabpanel" aria-labelledby="amortization-tab">
                    <div class="loan-analysis-section">
                        <h4 class="analysis-title">Mortgage Balance Over Time</h4>
                        <div class="chart-container" style="height: 350px;">
                            <canvas id="loan-analysis-chart" width="600" height="350" 
                                    aria-label="Loan analysis chart showing principal, interest, and balance over time" 
                                    role="img"></canvas>
                        </div>
                        <div class="chart-subtitle" id="loan-analysis-subtitle">Principal vs Interest vs Balance</div>
                        
                        <div class="year-selector-section">
                            <label for="year-slider" class="year-selector-label">Slide to View Year Details</label>
                            <input type="range" id="year-slider" class="year-slider" 
                                   min="1" max="30" value="1" step="1"
                                   aria-label="Select year for detailed analysis"
                                   oninput="updateYearDetails()">
                        </div>

                        <div class="year-details colorful">
                            <h5 class="year-title" id="selected-year-title">Year 1 Details</h5>
                            <div class="details-grid">
                                <div class="detail-item principal-paid">
                                    <div class="detail-icon">
                                        <i class="fas fa-home" aria-hidden="true"></i>
                                    </div>
                                    <div class="detail-content">
                                        <span class="detail-label">Principal Paid (Cumulative)</span>
                                        <span class="detail-value" id="year-principal-paid">$4,041</span>
                                    </div>
                                </div>
                                <div class="detail-item interest-paid">
                                    <div class="detail-icon">
                                        <i class="fas fa-percentage" aria-hidden="true"></i>
                                    </div>
                                    <div class="detail-content">
                                        <span class="detail-label">Interest Paid (Cumulative)</span>
                                        <span class="detail-value" id="year-interest-paid">$23,313</span>
                                    </div>
                                </div>
                                <div class="detail-item remaining-balance">
                                    <div class="detail-icon">
                                        <i class="fas fa-balance-scale" aria-hidden="true"></i>
                                    </div>
                                    <div class="detail-content">
                                        <span class="detail-label">Remaining Balance</span>
                                        <span class="detail-value" id="year-remaining-balance">$355,959</span>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>

                <div id="schedule-tab" class="tab-content" role="tabpanel" aria-labelledby="schedule-tab">
                    <div class="payment-schedule-section">
                        <div class="schedule-title-container">
                            <h4 class="schedule-title">
                                <i class="fas fa-table schedule-icon" aria-hidden="true"></i>
                                Payment Schedule
                            </h4>
                            <div class="schedule-options" role="group" aria-label="Schedule view options">
                                <button class="schedule-btn active" data-view="yearly" 
                                        onclick="toggleScheduleView('yearly')">Yearly</button>
                                <button class="schedule-btn" data-view="monthly" 
                                        onclick="toggleScheduleView('monthly')">Monthly</button>
                            </div>
                        </div>
                        <div class="schedule-container">
                            <div class="schedule-table-wrapper">
                                <table class="schedule-table" aria-label="Amortization schedule" id="schedule-table">
                                    <thead>
                                        </thead>
                                    <tbody id="schedule-body">
                                        </tbody>
                                </table>
                                <div id="schedule-loading" class="schedule-loading">
                                    <i class="fas fa-sync fa-spin"></i> Loading schedule...
                                </div>
                            </div>
                            <div class="schedule-pagination">
                                <button class="pagination-btn" id="prev-page" onclick="prevSchedulePage()" disabled>
                                    <i class="fas fa-chevron-left" aria-hidden="true"></i>
                                    Previous
                                </button>
                                <span class="pagination-info" id="schedule-page-info">Page 1 of 3</span>
                                <button class="pagination-btn" id="next-page" onclick="nextSchedulePage()">
                                    Next
                                    <i class="fas fa-chevron-right" aria-hidden="true"></i>
                                </button>
                            </div>
                        </div>
                    </div>
                </div>

                <div class="sharing-section">
                    <h4 class="sharing-title">
                        <i class="fas fa-share-alt sharing-icon" aria-hidden="true"></i>
                        Share & Export
                    </h4>
                    <div class="action-buttons">
                        <button class="action-btn primary" id="native-share-btn" onclick="shareResults()">
                            <i class="fas fa-share" aria-hidden="true"></i>
                            Share Results
                        </button>
                        <button class="action-btn secondary" onclick="exportToPDF()">
                            <i class="fas fa-file-pdf" aria-hidden="true"></i>
                            Download PDF
                        </button>
                         <button class="action-btn secondary" onclick="exportToCSV()">
                            <i class="fas fa-file-csv" aria-hidden="true"></i>
                            Download CSV
                        </button>
                        <button class="action-btn secondary" onclick="openComparisonModal()">
                            <i class="fas fa-balance-scale" aria-hidden="true"></i>
                            Compare Scenarios
                        </button>
                    </div>
                </div>

            </section>

            <section class="sidebar-section" role="complementary" aria-labelledby="sidebar-section-title">
                <div class="section-header">
                    <h2 class="section-title" id="sidebar-section-title">
                        <i class="fas fa-star section-icon" aria-hidden="true"></i>
                        Partner Offers
                    </h2>
                    <div class="section-subtitle">Top-rated American lenders</div>
                </div>

                <div class="partner-showcase">
                    <div class="partner-card featured">
                        <div class="partner-header">
                            <div class="partner-logo">
                                <i class="fas fa-university partner-icon" aria-hidden="true"></i>
                            </div>
                            <div class="partner-info">
                                <h4 class="partner-name">Better Mortgage</h4>
                                <div class="partner-rating">
                                    <span class="rating-stars">★★★★★</span>
                                    <span class="rating-text">4.9/5 (2,400+ reviews)</span>
                                </div>
                            </div>
                        </div>
                        <div class="partner-rates">
                            <div class="rate-display">
                                <span class="rate-label">30-Year Fixed Rate</span>
                                <span class="rate-value">6.32%</span>
                                <span class="rate-apr">6.45% APR</span>
                            </div>
                        </div>
                        <button class="partner-cta primary" onclick="applyPartner('Better Mortgage')">
                            Apply Now - Fast Pre-approval
                        </button>
                    </div>

                    <div class="partner-card">
                        <div class="partner-header">
                            <div class="partner-logo">
                                <i class="fas fa-home partner-icon" aria-hidden="true"></i>
                            </div>
                            <div class="partner-info">
                                <h4 class="partner-name">Rocket Mortgage</h4>
                                <div class="partner-rating">
                                    <span class="rating-stars">★★★★☆</span>
                                    <span class="rating-text">4.7/5 (3,100+ reviews)</span>
                                </div>
                            </div>
                        </div>
                        <div class="partner-rates">
                            <div class="rate-display">
                                <span class="rate-label">30-Year Fixed Rate</span>
                                <span class="rate-value">6.38%</span>
                                <span class="rate-apr">6.52% APR</span>
                            </div>
                        </div>
                        <button class="partner-cta secondary" onclick="applyPartner('Rocket Mortgage')">
                            Get Custom Rate
                        </button>
                    </div>

                    <div class="partner-card">
                        <div class="partner-header">
                            <div class="partner-logo">
                                <i class="fas fa-shield-alt partner-icon" aria-hidden="true"></i>
                            </div>
                            <div class="partner-info">
                                <h4 class="partner-name">Navy Federal</h4>
                                <div class="partner-rating">
                                    <span class="rating-stars">★★★★★</span>
                                    <span class="rating-text">4.8/5 (1,800+ reviews)</span>
                                </div>
                            </div>
                        </div>
                        <div class="partner-rates">
                            <div class="rate-display">
                                <span class="rate-label">VA Loan Special</span>
                                <span class="rate-value">5.99%</span>
                                <span class="rate-apr">6.15% APR</span>
                            </div>
                        </div>
                        <button class="partner-cta secondary" onclick="applyPartner('Navy Federal')">
                            Military & Veterans
                        </button>
                    </div>
                </div>

                <div class="market-insights">
                    <h4 class="section-title">
                        <i class="fas fa-chart-line section-icon" aria-hidden="true"></i>
                        Live Market Insights
                    </h4>
                    <div class="market-stats" id="market-stats-container">
                        <div class="market-stat">
                            <div class="stat-icon">
                                <i class="fas fa-percentage" aria-hidden="true"></i>
                            </div>
                            <div class="stat-content">
                                <span class="stat-label">30-Yr Fixed Avg (FRED)</span>
                                <span class="stat-value" id="market-stat-30yr">...</span>
                            </div>
                        </div>
                        <div class="market-stat">
                            <div class="stat-icon">
                                <i class="fas fa-percentage" aria-hidden="true"></i>
                            </div>
                            <div class="stat-content">
                                <span class="stat-label">15-Yr Fixed Avg (FRED)</span>
                                <span class="stat-value" id="market-stat-15yr">...</span>
                            </div>
                        </div>
                        <div class="market-stat">
                            <div class="stat-icon">
                                <i class="fas fa-chart-line" aria-hidden="true"></i>
                            </div>
                            <div class="stat-content">
                                <span class="stat-label">10-Yr Treasury (Trend)</span>
                                <span class="stat-value" id="market-stat-10yr">...</span>
                            </div>
                        </div>
                    </div>
                </div>

                <div class="ad-space">
                    <div class="ad-container">
                        <div class="ad-label">Sponsored</div>
                        <h5 class="ad-title">Home Insurance Comparison</h5>
                        <p class="ad-description">Compare quotes from top providers and save up to $500 annually on your home insurance.</p>
                        <button class="ad-cta" onclick="showInsuranceComparison()">
                            Get Free Quotes
                        </button>
                    </div>
                </div>
            </section>
        </div>
    </main>

    <div class="voice-modal" id="voice-modal" role="dialog" aria-labelledby="voice-modal-title" aria-modal="true">
        <div class="voice-modal-content">
            <div class="voice-modal-header">
                <h3 class="modal-title" id="voice-modal-title">
                    <i class="fas fa-microphone modal-icon" aria-hidden="true"></i>
                    Voice Control
                </h3>
                <button class="modal-close-btn" onclick="closeVoiceModal()" aria-label="Close voice control">
                    <i class="fas fa-times" aria-hidden="true"></i>
                </button>
            </div>
            <div class="voice-modal-body">
                <div class="voice-instructions">
                    <h4 class="instructions-title">Try saying...</h4>
                    
                    <div class="command-category">
                        <h5 class="category-title">Input Commands</h5>
                        <ul class="command-list">
                            <li>"Set home price to 500,000"</li>
                            <li>"Set down payment to 100,000"</li>
                            <li>"Set interest rate to 6.5"</li>
                            <li>"Set loan term to 15 years"</li>
                        </ul>
                    </div>
                    
                    <div class="command-category">
                        <h5 class="category-title">Navigation</h5>
                        <ul class="command-list">
                            <li>"Show AI insights"</li>
                            <li>"Show payment schedule"</li>
                            <li>"Show amortization chart"</li>
                        </ul>
                    </div>
                    
                    <div class="command-category">
                        <h5 class="category-title">Actions</h5>
                        <ul class="command-list">
                            <li>"Reset calculator"</li>
                            <li>"Share results"</li>
                            <li>"Download PDF"</li>
                        </ul>
                    </div>
                </div>
            </div>
            <div class="voice-modal-footer">
                <button class="modal-btn secondary" onclick="closeVoiceModal()">
                    <i class="fas fa-times" aria-hidden="true"></i>
                    Cancel
                </button>
                <button class="modal-btn primary" id="start-listening-btn" onclick="startVoiceRecognition()">
                    <i class="fas fa-microphone" aria-hidden="true"></i>
                    Start Listening
                </button>
            </div>
        </div>
    </div>

    <footer class="site-footer" role="contentinfo">
        <div class="footer-container">
            <div class="footer-content">
                <div class="footer-brand">
                    <div class="footer-logo">
                        <span class="usa-flag" role="img" aria-label="USA Flag">🇺🇸</span>
                        <div class="footer-logo-text">
                            <div class="footer-brand-name">FinGuid</div>
                            <div class="footer-brand-tagline">AI-Powered Mortgage Calculator</div>
                        </div>
                    </div>
                    <p class="footer-description">
                        The most advanced mortgage calculator for American homebuyers. 
                        Featuring live Federal Reserve rates, AI-powered insights, and 
                        voice-enabled calculations.
                    </p>
                </div>
                
                <div class="footer-links">
                    <div class="footer-column">
                        <h4>Calculator</h4>
                        <ul>
                            <li><a href="#features">Features</a></li>
                            <li><a href="#how-it-works">How It Works</a></li>
                            <li><a href="#examples">Examples</a></li>
                            <li><a href="#tutorials">Tutorials</a></li>
                        </ul>
                    </div>
                    
                    <div class="footer-column">
                        <h4>Resources</h4>
                        <ul>
                            <li><a href="#mortgage-guide">Mortgage Guide</a></li>
                            <li><a href="#rate-trends">Rate Trends</a></li>
                            <li><a href="#calculators">All Calculators</a></li>
                            <li><a href="#blog">Blog</a></li>
                        </ul>
                    </div>
                    
                    <div class="footer-column">
                        <h4>Legal</h4>
                        <ul>
                            <li><a href="#privacy">Privacy Policy</a></li>
                            <li><a href="#terms">Terms of Service</a></li>
                            <li><a href="#disclaimer">Disclaimer</a></li>
                            <li><a href="#compliance">Compliance</a></li>
                        </ul>
                    </div>
                    
                    <div class="footer-column">
                        <h4>Support</h4>
                        <ul>
                            <li><a href="#help">Help Center</a></li>
                            <li><a href="#contact">Contact Us</a></li>
                            <li><a href="#feedback">Feedback</a></li>
                            <li><a href="#sitemap">Sitemap</a></li>
                        </ul>
                    </div>
                </div>
            </div>
            
            <div class="footer-bottom">
                <div class="footer-disclaimer">
                    <p>
                        <strong>Important Disclaimer:</strong> This calculator provides estimates only. 
                        Actual loan terms may vary based on lender requirements, creditworthiness, 
                        and other factors. Rates shown are for illustrative purposes and may not 
                        reflect current market conditions. Consult with qualified financial 
                        professionals before making any financial decisions.
                    </p>
                    <p>
                        <i class="fas fa-landmark"></i> Federal Reserve Economic Data (FRED®) is a registered trademark of the 
                        Federal Reserve Bank of St. Louis. FinGuid is not affiliated with or endorsed by
                        the Federal Reserve Bank of St. Louis.
                    </p>
                </div>
                
                <div class="footer-copyright">
                    <div class="copyright-left">
                        <p>&copy; 2025 FinGuid. All rights reserved.</p>
                        <p>Made with ❤️ for American homebuyers</p>
                    </div>
                    <div class="footer-badges">
                        <span class="badge">ADA Compliant</span>
                        <span class="badge">SSL Secure</span>
                        <span class="badge">FRED® Data</span>
                    </div>
                </div>
            </div>
        </div>
    </footer>

    <div class="loading-overlay" id="loading-overlay">
        <div class="loading-content">
            <div class="loading-spinner" aria-hidden="true"></div>
            <p class="loading-text" id="loading-text">Loading FinGuid AI...</p>
        </div>
    </div>

    <div class="toast-container" id="toast-container"></div>

    <div class="voice-status" id="voice-status">
        <div class="voice-status-content">
            <i class="fas fa-microphone voice-status-icon" aria-hidden="true"></i>
            <span class="voice-status-text">Listening...</span>
            <button class="voice-status-close" onclick="stopVoiceRecognition()" aria-label="Stop listening">
                <i class="fas fa-times" aria-hidden="true"></i>
            </button>
        </div>
    </div>

    <button class="screen-reader-btn" id="screen-reader-btn" 
            aria-label="Toggle screen reader mode" title="Enhanced screen reader mode"
            onclick="toggleScreenReaderMode()">
        <i class="fas fa-eye" aria-hidden="true"></i>
    </button>

    <div class="comparison-modal" id="comparison-modal" role="dialog" aria-labelledby="comparison-modal-title" aria-modal="true">
        <div class="comparison-modal-content">
            <div class="comparison-header">
                <h3 class="comparison-title" id="comparison-modal-title">
                    <i class="fas fa-balance-scale modal-icon" aria-hidden="true"></i>
                    Compare Loan Scenarios
                </h3>
                <button class="modal-close-btn" onclick="closeComparisonModal()" aria-label="Close comparison">
                    <i class="fas fa-times" aria-hidden="true"></i>
                </button>
            </div>
            <div class="comparison-body">
                <div class="comparison-scenarios" id="comparison-scenarios">
                    </div>
            </div>
            <div class="comparison-footer">
                <button class="modal-btn secondary" onclick="closeComparisonModal()">
                    <i class="fas fa-times" aria-hidden="true"></i>
                    Close
                </button>
                <button class="modal-btn primary" onclick="addNewComparisonScenario()">
                    <i class="fas fa-plus" aria-hidden="true"></i>
                    Add New Scenario
                </button>
            </div>
        </div>
    </div>

    <script src="finguid-calculator.js"></script>

    <script>
        if ('serviceWorker' in navigator) {
            window.addEventListener('load', () => {
                navigator.serviceWorker.register('/sw.js')
                    .then(registration => {
                        console.log('FinGuid ServiceWorker registration successful');
                    })
                    .catch(err => {
                        console.error('ServiceWorker registration failed: ', err);
                    });
            });
        }
    </script>
</body>
</html>
