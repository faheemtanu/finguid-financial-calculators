<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>AI-Enhanced Mortgage Calculator | Smart Home Loan Calculator</title>
  <meta name="description" content="Calculate mortgage payments, refinance savings, and home affordability with AI insights. Voice-enabled calculator with state-specific tax rates for all 50 US states.">
  <meta name="keywords" content="mortgage calculator, home loan calculator, refinance calculator, affordability calculator, AI mortgage tool">
  
  <!-- Open Graph -->
  <meta property="og:title" content="AI-Enhanced Mortgage Calculator">
  <meta property="og:description" content="Smart mortgage calculator with voice input and AI insights">
  <meta property="og:type" content="website">
  <meta property="og:url" content="https://yourdomain.com/mortgage-calculator.html">
  
  <!-- Structured Data -->
  <script type="application/ld+json">
  {
    "@context": "https://schema.org",
    "@type": "SoftwareApplication",
    "name": "AI-Enhanced Mortgage Calculator",
    "description": "Advanced mortgage calculator with AI insights, voice input, and comprehensive loan analysis",
    "url": "https://yourdomain.com/mortgage-calculator.html",
    "applicationCategory": "FinanceApplication",
    "operatingSystem": "Web Browser",
    "offers": {
      "@type": "Offer",
      "price": "0",
      "priceCurrency": "USD"
    },
    "featureList": [
      "Voice Input",
      "AI Recommendations", 
      "State-specific Calculations",
      "Amortization Charts",
      "CSV Export",
      "Mobile Responsive"
    ],
    "author": {
      "@type": "Organization",
      "name": "AI Financial Calculators"
    }
  }
  </script>
  
  <!-- PWA -->
  <link rel="manifest" href="manifest.json">
  <meta name="theme-color" content="#21808d">
  
  <!-- Styles -->
  <link rel="stylesheet" href="style.css">
  <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700&display=swap" rel="stylesheet">
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
</head>
<body>
  <!-- Header - Updated branding only here -->
  <header class="header" role="banner">
    <h1>AI-Enhanced Mortgage Calculator</h1>
    <p>Smart calculations with voice input and real-time insights</p>
  </header>

  <!-- Main Container -->
  <div class="container">
    <!-- Tab Navigation -->
    <nav class="tab-navigation" role="tablist" aria-label="Calculator Types">
      <button 
        class="tab-button active" 
        id="tab-monthly" 
        role="tab" 
        aria-selected="true" 
        aria-controls="monthly-panel"
        tabindex="0">
        <i class="fas fa-calculator"></i> Monthly Payment
      </button>
      <button 
        class="tab-button" 
        id="tab-refinance" 
        role="tab" 
        aria-selected="false" 
        aria-controls="refinance-panel"
        tabindex="-1">
        <i class="fas fa-exchange-alt"></i> Refinance
      </button>
      <button 
        class="tab-button" 
        id="tab-affordability" 
        role="tab" 
        aria-selected="false" 
        aria-controls="affordability-panel"
        tabindex="-1">
        <i class="fas fa-home"></i> Affordability
      </button>
    </nav>

    <!-- Monthly Payment Calculator -->
    <main class="calculator-container">
      <div id="monthly-panel" class="tab-content active" role="tabpanel" aria-labelledby="tab-monthly">
        <div class="calculator-layout">
          <!-- Input Panel -->
          <section class="input-panel" aria-label="Loan Details Input">
            <h3>Loan Details</h3>
            
            <!-- Loan Type Selector -->
            <div class="form-group">
              <label for="loan-type" class="form-label">
                Loan Type 
                <span class="info-icon" data-tooltip="Conventional: Standard loan. FHA: Government-backed with MIP. VA: Veterans loan with funding fee.">‚Ñπ</span>
              </label>
              <select id="loan-type" class="form-select" aria-describedby="loan-type-help">
                <option value="conventional">Conventional</option>
                <option value="fha">FHA</option>
                <option value="va">VA Loan</option>
              </select>
              <small id="loan-type-help" class="sr-only">Select the type of mortgage loan you're applying for</small>
            </div>

            <!-- Voice Input -->
            <div class="form-group">
              <label for="voice-input" class="form-label">
                Voice Input 
                <span class="info-icon" data-tooltip="Say commands like 'Home price 400000' or 'Interest rate 6.5'">üé§</span>
              </label>
              <div class="voice-input-container">
                <input 
                  type="text" 
                  id="voice-input" 
                  class="form-input" 
                  placeholder="Click microphone and speak..."
                  aria-describedby="voice-help"
                  readonly>
                <button type="button" class="voice-button" id="start-voice" aria-label="Start voice input">
                  <i class="fas fa-microphone"></i>
                </button>
              </div>
              <div class="voice-tooltip" id="voice-help">
                Click microphone and say "Home Price 400,000" to populate fields automatically
              </div>
            </div>

            <!-- Home Price -->
            <div class="form-group">
              <label for="home-price" class="form-label">
                Home Price ($)
                <span class="info-icon" data-tooltip="Total purchase price of the home">‚Ñπ</span>
              </label>
              <input 
                type="number" 
                id="home-price" 
                class="form-input" 
                placeholder="400,000"
                min="50000" 
                max="10000000"
                aria-describedby="home-price-help">
              <small id="home-price-help" class="sr-only">Enter the total purchase price of the home</small>
            </div>

            <!-- Down Payment -->
            <div class="form-group">
              <label for="down-payment" class="form-label">
                Down Payment ($)
                <span class="info-icon" data-tooltip="Amount paid upfront. Typically 10-20% of home price">‚Ñπ</span>
              </label>
              <input 
                type="number" 
                id="down-payment" 
                class="form-input" 
                placeholder="80,000"
                min="0"
                aria-describedby="down-payment-help">
              <small id="down-payment-help" class="sr-only">Enter your down payment amount</small>
            </div>

            <!-- Interest Rate -->
            <div class="form-group">
              <label for="interest-rate" class="form-label">
                Interest Rate (%)
                <span class="info-icon" data-tooltip="Annual interest rate for your loan">‚Ñπ</span>
              </label>
              <input 
                type="number" 
                id="interest-rate" 
                class="form-input" 
                placeholder="6.75"
                min="0" 
                max="30" 
                step="0.01"
                aria-describedby="interest-rate-help">
              <small id="interest-rate-help" class="sr-only">Enter the annual interest rate as a percentage</small>
            </div>

            <!-- Loan Term -->
            <div class="form-group">
              <label for="loan-term" class="form-label">
                Loan Term (Years)
                <span class="info-icon" data-tooltip="Length of the loan. Common terms are 15 or 30 years">‚Ñπ</span>
              </label>
              <select id="loan-term" class="form-select" aria-describedby="loan-term-help">
                <option value="15">15 Years</option>
                <option value="30" selected>30 Years</option>
                <option value="custom">Custom</option>
              </select>
              <input 
                type="number" 
                id="custom-term" 
                class="form-input" 
                placeholder="Years" 
                min="1" 
                max="40" 
                style="display: none;">
              <small id="loan-term-help" class="sr-only">Select the loan term in years</small>
            </div>

            <!-- State Selection -->
            <div class="form-group">
              <label for="property-state" class="form-label">
                Property State
                <span class="info-icon" data-tooltip="State where the property is located (affects tax rates)">‚Ñπ</span>
              </label>
              <select id="property-state" class="form-select" aria-describedby="state-help">
                <option value="CA">California</option>
                <option value="TX">Texas</option>
                <option value="FL">Florida</option>
                <option value="NY">New York</option>
                <option value="WA">Washington</option>
                <option value="OR">Oregon</option>
                <option value="NV">Nevada</option>
                <option value="AZ">Arizona</option>
                <option value="CO">Colorado</option>
                <option value="UT">Utah</option>
                <!-- Add more states as needed -->
              </select>
              <small id="state-help" class="sr-only">Property location affects tax calculations</small>
            </div>

            <!-- Advanced Options -->
            <div class="advanced-options">
              <h4>Advanced Options</h4>
              
              <!-- Property Tax -->
              <div class="form-group">
                <label for="property-tax" class="form-label">
                  Annual Property Tax ($)
                  <span class="info-icon" data-tooltip="Yearly property tax (auto-calculated by state)">‚Ñπ</span>
                </label>
                <input 
                  type="number" 
                  id="property-tax" 
                  class="form-input" 
                  placeholder="5,000"
                  min="0">
              </div>

              <!-- Home Insurance -->
              <div class="form-group">
                <label for="home-insurance" class="form-label">
                  Annual Home Insurance ($)
                  <span class="info-icon" data-tooltip="Yearly homeowners insurance premium">‚Ñπ</span>
                </label>
                <input 
                  type="number" 
                  id="home-insurance" 
                  class="form-input" 
                  placeholder="1,200"
                  min="0">
              </div>

              <!-- PMI/MIP -->
              <div class="form-group" id="pmi-group">
                <label for="pmi-rate" class="form-label">
                  <span id="pmi-label">PMI Rate (%)</span>
                  <span class="info-icon" data-tooltip="Private Mortgage Insurance - required if down payment is less than 20%">‚Ñπ</span>
                </label>
                <input 
                  type="number" 
                  id="pmi-rate" 
                  class="form-input" 
                  placeholder="0.5"
                  min="0" 
                  max="5" 
                  step="0.01">
              </div>

              <!-- VA Funding Fee -->
              <div class="form-group" id="va-fee-group" style="display: none;">
                <label for="va-funding-fee" class="form-label">
                  VA Funding Fee (%)
                  <span class="info-icon" data-tooltip="One-time fee for VA loans">‚Ñπ</span>
                </label>
                <input 
                  type="number" 
                  id="va-funding-fee" 
                  class="form-input" 
                  placeholder="2.3"
                  min="0" 
                  max="10" 
                  step="0.01">
              </div>

              <!-- HOA Fees -->
              <div class="form-group">
                <label for="hoa-fees" class="form-label">
                  Monthly HOA Fees ($)
                  <span class="info-icon" data-tooltip="Homeowners Association fees">‚Ñπ</span>
                </label>
                <input 
                  type="number" 
                  id="hoa-fees" 
                  class="form-input" 
                  placeholder="150"
                  min="0">
              </div>
            </div>

            <!-- Predefined Scenarios -->
            <div class="scenario-selector">
              <label for="monthly-scenarios" class="form-label">
                Predefined Scenarios
                <span class="info-icon" data-tooltip="Select a common scenario to populate fields">‚Ñπ</span>
              </label>
              <select id="monthly-scenarios" class="form-select">
                <option value="">Select a scenario...</option>
                <option value="starter-home">Starter Home (20% down, 6.5% rate)</option>
                <option value="fha-first-time">FHA First-Time Buyer (3.5% down)</option>
                <option value="va-loan">VA Loan (0% down, no PMI)</option>
                <option value="luxury-home">Luxury Home (25% down, Jumbo)</option>
                <option value="investment-property">Investment Property (25% down)</option>
                <option value="refinance-scenario">Refinance to Lower Rate</option>
                <option value="cash-out-refinance">Cash-Out Refinance</option>
                <option value="15-year-loan">15-Year Fixed Loan</option>
                <option value="arm-loan">5/1 ARM Loan</option>
                <option value="high-dti">High DTI Scenario</option>
                <option value="jumbo-loan">Jumbo Loan ($750k+)</option>
                <option value="zero-down">Zero Down Payment</option>
                <option value="high-credit">Excellent Credit (720+)</option>
                <option value="poor-credit">Fair Credit (620-679)</option>
                <option value="self-employed">Self-Employed Borrower</option>
              </select>
            </div>

            <!-- Calculate Button -->
            <button type="button" class="calculate-button" id="calculate-monthly" aria-describedby="calculate-help">
              <i class="fas fa-calculator"></i>
              Calculate Monthly Payment
            </button>
            <small id="calculate-help" class="sr-only">Click to calculate your monthly mortgage payment</small>
          </section>

          <!-- Results Panel -->
          <section class="results-panel" aria-label="Calculation Results">
            <h3>Payment Results</h3>
            
            <!-- Main Result -->
            <div class="result-summary" role="region" aria-label="Monthly Payment Summary">
              <div class="result-amount" id="monthly-payment-result" aria-live="polite">$2,923</div>
              <div class="result-label">Total Monthly Payment</div>
            </div>

            <!-- Breakdown Table -->
            <table class="results-table" role="table" aria-label="Payment Breakdown">
              <thead>
                <tr>
                  <th scope="col">Component</th>
                  <th scope="col">Amount</th>
                </tr>
              </thead>
              <tbody id="monthly-breakdown">
                <tr>
                  <td>Principal & Interest</td>
                  <td class="amount">$2,590</td>
                </tr>
                <tr>
                  <td>Property Tax</td>
                  <td class="amount">$137</td>
                </tr>
                <tr>
                  <td>Home Insurance</td>
                  <td class="amount">$80</td>
                </tr>
                <tr id="pmi-row">
                  <td><span id="insurance-type">PMI</span></td>
                  <td class="amount">$213</td>
                </tr>
                <tr>
                  <td>HOA Fees</td>
                  <td class="amount">$0</td>
                </tr>
              </tbody>
            </table>

            <!-- Action Buttons -->
            <div class="action-buttons">
              <button type="button" class="action-button" id="view-schedule">
                <i class="fas fa-table"></i> View Schedule
              </button>
              <button type="button" class="action-button" id="download-csv">
                <i class="fas fa-download"></i> Download CSV
              </button>
              <button type="button" class="action-button" id="email-results">
                <i class="fas fa-envelope"></i> Email Results
              </button>
            </div>

            <!-- Chart Container -->
            <div class="chart-container">
              <h4 class="chart-title">Amortization Chart</h4>
              <canvas id="amortization-chart" width="400" height="200" role="img" aria-label="Amortization chart showing principal and interest over time"></canvas>
            </div>

            <!-- AI Insights -->
            <div class="ai-insights" role="region" aria-label="AI Recommendations">
              <h4>AI Insights</h4>
              <div id="ai-recommendations">
                <div class="insight-item">üí° Consider increasing your down payment to avoid PMI</div>
                <div class="insight-item">üìà A 15-year loan could save you $125,000 in interest</div>
                <div class="insight-item">üè† This payment is 28% of median income in your area</div>
              </div>
            </div>

            <!-- Learn More Links -->
            <div>
              <a href="/learn/pmi-guide.html" class="learn-more" target="_blank">
                <i class="fas fa-external-link-alt"></i> Learn More about PMI
              </a>
            </div>
          </section>
        </div>
      </div>

      <!-- Refinance Calculator Panel -->
      <div id="refinance-panel" class="tab-content" role="tabpanel" aria-labelledby="tab-refinance">
        <div class="calculator-layout">
          <!-- Refinance Input Panel -->
          <section class="input-panel" aria-label="Refinance Details Input">
            <h3>Refinance Details</h3>
            
            <!-- Current Loan Balance -->
            <div class="form-group">
              <label for="current-balance" class="form-label">
                Current Loan Balance ($)
                <span class="info-icon" data-tooltip="Remaining balance on your current mortgage">‚Ñπ</span>
              </label>
              <input type="number" id="current-balance" class="form-input" placeholder="320,000" min="0">
            </div>

            <!-- Current Interest Rate -->
            <div class="form-group">
              <label for="current-rate" class="form-label">
                Current Interest Rate (%)
                <span class="info-icon" data-tooltip="Interest rate on your current mortgage">‚Ñπ</span>
              </label>
              <input type="number" id="current-rate" class="form-input" placeholder="7.25" min="0" max="30" step="0.01">
            </div>

            <!-- New Interest Rate -->
            <div class="form-group">
              <label for="new-rate" class="form-label">
                New Interest Rate (%)
                <span class="info-icon" data-tooltip="Interest rate for the refinanced loan">‚Ñπ</span>
              </label>
              <input type="number" id="new-rate" class="form-input" placeholder="6.25" min="0" max="30" step="0.01">
            </div>

            <!-- Remaining Term -->
            <div class="form-group">
              <label for="remaining-term" class="form-label">
                Remaining Term (Years)
                <span class="info-icon" data-tooltip="Years left on your current mortgage">‚Ñπ</span>
              </label>
              <input type="number" id="remaining-term" class="form-input" placeholder="27" min="1" max="40">
            </div>

            <!-- New Term -->
            <div class="form-group">
              <label for="new-term" class="form-label">
                New Term (Years)
                <span class="info-icon" data-tooltip="Term for the refinanced loan">‚Ñπ</span>
              </label>
              <select id="new-term" class="form-select">
                <option value="15">15 Years</option>
                <option value="30">30 Years</option>
              </select>
            </div>

            <!-- Closing Costs -->
            <div class="form-group">
              <label for="closing-costs" class="form-label">
                Closing Costs ($)
                <span class="info-icon" data-tooltip="Upfront costs to refinance (typically 2-5% of loan amount)">‚Ñπ</span>
              </label>
              <input type="number" id="closing-costs" class="form-input" placeholder="8,000" min="0">
            </div>

            <!-- Refinance Scenarios -->
            <div class="scenario-selector">
              <label for="refinance-scenarios" class="form-label">
                Refinance Scenarios
                <span class="info-icon" data-tooltip="Common refinancing situations">‚Ñπ</span>
              </label>
              <select id="refinance-scenarios" class="form-select">
                <option value="">Select a scenario...</option>
                <option value="rate-drop-1">Rate Drop 1%: 7.5% to 6.5%</option>
                <option value="rate-drop-half">Rate Drop 0.5%: 7% to 6.5%</option>
                <option value="30-to-15">30-Year to 15-Year</option>
                <option value="cash-out-100k">Cash-Out $100k</option>
                <option value="cash-out-50k">Cash-Out $50k</option>
                <option value="remove-pmi">Remove PMI Refinance</option>
                <option value="arm-to-fixed">ARM to Fixed Rate</option>
                <option value="high-balance">High Balance Refinance</option>
                <option value="fha-to-conventional">FHA to Conventional</option>
                <option value="investment-refi">Investment Property Refi</option>
                <option value="streamline-refi">VA Streamline (IRRRL)</option>
                <option value="reverse-mortgage">Reverse Mortgage (62+)</option>
                <option value="harp-replacement">HARP Replacement Program</option>
                <option value="construction-perm">Construction-to-Permanent</option>
                <option value="debt-consolidation">Debt Consolidation Refi</option>
              </select>
            </div>

            <button type="button" class="calculate-button" id="calculate-refinance">
              <i class="fas fa-exchange-alt"></i>
              Calculate Refinance Savings
            </button>
          </section>

          <!-- Refinance Results Panel -->
          <section class="results-panel" aria-label="Refinance Results">
            <h3>Refinance Analysis</h3>
            
            <div class="result-summary">
              <div class="result-amount" id="monthly-savings">$275</div>
              <div class="result-label">Monthly Savings</div>
            </div>

            <table class="results-table">
              <thead>
                <tr>
                  <th>Metric</th>
                  <th>Current</th>
                  <th>New</th>
                  <th>Difference</th>
                </tr>
              </thead>
              <tbody id="refinance-comparison">
                <tr>
                  <td>Monthly Payment</td>
                  <td class="amount">$2,923</td>
                  <td class="amount">$2,648</td>
                  <td class="amount" style="color: var(--color-success);">-$275</td>
                </tr>
                <tr>
                  <td>Interest Rate</td>
                  <td>7.25%</td>
                  <td>6.25%</td>
                  <td style="color: var(--color-success);">-1.00%</td>
                </tr>
                <tr>
                  <td>Break-Even Point</td>
                  <td colspan="3">29 months</td>
                </tr>
              </tbody>
            </table>

            <div class="action-buttons">
              <button type="button" class="action-button">View Analysis</button>
              <button type="button" class="action-button">Download Report</button>
            </div>
          </section>
        </div>
      </div>

      <!-- Affordability Calculator Panel -->
      <div id="affordability-panel" class="tab-content" role="tabpanel" aria-labelledby="tab-affordability">
        <div class="calculator-layout">
          <!-- Affordability Input Panel -->
          <section class="input-panel" aria-label="Income and Debt Input">
            <h3>Income & Debt Information</h3>
            
            <!-- Annual Income -->
            <div class="form-group">
              <label for="annual-income" class="form-label">
                Annual Gross Income ($)
                <span class="info-icon" data-tooltip="Your total yearly income before taxes">‚Ñπ</span>
              </label>
              <input type="number" id="annual-income" class="form-input" placeholder="75,000" min="0">
            </div>

            <!-- Monthly Debts -->
            <div class="form-group">
              <label for="monthly-debts" class="form-label">
                Monthly Debt Payments ($)
                <span class="info-icon" data-tooltip="Car loans, credit cards, student loans, etc.">‚Ñπ</span>
              </label>
              <input type="number" id="monthly-debts" class="form-input" placeholder="800" min="0">
            </div>

            <!-- Down Payment Available -->
            <div class="form-group">
              <label for="down-payment-saved" class="form-label">
                Down Payment Available ($)
                <span class="info-icon" data-tooltip="Amount you have saved for down payment">‚Ñπ</span>
              </label>
              <input type="number" id="down-payment-saved" class="form-input" placeholder="60,000" min="0">
            </div>

            <!-- DTI Ratio -->
            <div class="form-group">
              <label for="dti-ratio" class="form-label">
                Debt-to-Income Ratio (%)
                <span class="info-icon" data-tooltip="Maximum DTI ratio. FHA allows up to 57%, conventional typically 43%">‚Ñπ</span>
              </label>
              <select id="dti-ratio" class="form-select">
                <option value="28">28% (Conservative)</option>
                <option value="36">36% (Moderate)</option>
                <option value="43" selected>43% (Conventional Max)</option>
                <option value="57">57% (FHA Max)</option>
              </select>
            </div>

            <!-- Affordability Scenarios -->
            <div class="scenario-selector">
              <label for="affordability-scenarios" class="form-label">
                Affordability Scenarios
                <span class="info-icon" data-tooltip="Different income and debt situations">‚Ñπ</span>
              </label>
              <select id="affordability-scenarios" class="form-select">
                <option value="">Select a scenario...</option>
                <option value="first-time-buyer">First-Time Buyer ($60k income)</option>
                <option value="young-professional">Young Professional ($85k income)</option>
                <option value="family-household">Family Household ($120k income)</option>
                <option value="high-earner">High Earner ($200k income)</option>
                <option value="student-loans">High Student Loan Debt</option>
                <option value="excellent-credit">Excellent Credit, Low Debt</option>
                <option value="self-employed">Self-Employed Income</option>
                <option value="dual-income">Dual Income Household</option>
                <option value="minimal-savings">Minimal Down Payment</option>
                <option value="cash-buyer">Significant Cash Available</option>
                <option value="recent-graduate">Recent College Graduate</option>
                <option value="military-veteran">Military/Veteran Benefits</option>
                <option value="divorced-single">Single Parent/Divorced</option>
                <option value="retirement-age">Near Retirement Age</option>
                <option value="gig-economy">Gig Economy Worker</option>
              </select>
            </div>

            <button type="button" class="calculate-button" id="calculate-affordability">
              <i class="fas fa-home"></i>
              Calculate Affordability
            </button>
          </section>

          <!-- Affordability Results Panel -->
          <section class="results-panel" aria-label="Affordability Results">
            <h3>What You Can Afford</h3>
            
            <div class="result-summary">
              <div class="result-amount" id="max-home-price">$385,000</div>
              <div class="result-label">Maximum Home Price</div>
            </div>

            <table class="results-table">
              <thead>
                <tr>
                  <th>Category</th>
                  <th>Amount</th>
                </tr>
              </thead>
              <tbody id="affordability-breakdown">
                <tr>
                  <td>Monthly Income</td>
                  <td class="amount">$6,250</td>
                </tr>
                <tr>
                  <td>Maximum Monthly Payment</td>
                  <td class="amount">$2,688</td>
                </tr>
                <tr>
                  <td>Estimated Monthly Payment</td>
                  <td class="amount">$2,595</td>
                </tr>
                <tr>
                  <td>Down Payment</td>
                  <td class="amount">$60,000</td>
                </tr>
                <tr>
                  <td>Loan Amount</td>
                  <td class="amount">$325,000</td>
                </tr>
              </tbody>
            </table>

            <div class="ai-insights">
              <h4>Affordability Tips</h4>
              <div id="affordability-tips">
                <div class="insight-item">üí∞ Increase your down payment to afford a $425k home</div>
                <div class="insight-item">üìâ Paying off $200/month in debt adds $35k to your budget</div>
                <div class="insight-item">üè¶ Consider FHA loans for lower down payment options</div>
              </div>
            </div>

            <div class="action-buttons">
              <button type="button" class="action-button">View Details</button>
              <button type="button" class="action-button">Save Results</button>
            </div>
          </section>
        </div>
      </div>
    </main>

    <!-- Partner Embed Widget -->
    <section class="embed-widget" aria-label="Embed Code">
      <h4>Embed This Calculator</h4>
      <p>Copy this code to embed the calculator on your website:</p>
      <div class="embed-code" tabindex="0" role="textbox" aria-label="Embed code">
        &lt;iframe src="https://yourdomain.com/mortgage-calculator.html" width="100%" height="700" frameborder="0" title="AI-Enhanced Mortgage Calculator"&gt;&lt;/iframe&gt;
      </div>
    </section>
  </div>

  <!-- Scripts -->
  <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
  <script src="mortgage-calculator.js"></script>

  <!-- Service Worker Registration -->
  <script>
    if ('serviceWorker' in navigator) {
      navigator.serviceWorker.register('sw.js')
        .then(registration => console.log('SW registered:', registration))
        .catch(error => console.log('SW registration failed:', error));
    }
  </script>
</body>
</html>
