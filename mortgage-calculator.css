/**
 * mortgage-calculator.css
 * FinGuid AI-Enhanced Mortgage Calculator v9.2
 * Production Ready Styles with Enhanced Features
 */

/* ========== DESIGN SYSTEM & VARIABLES ========== */
:root {
    /* Colors */
    --color-white: #fff; --color-black: #000; --color-cream-50: #fcfcf9; --color-charcoal-700: #1f2121; --color-charcoal-800: #262828;
    --color-slate-900: #13343b; --color-teal-300: #32b8c8; --color-teal-500: #21808d; --color-teal-600: #1d7480; --color-brown-600-rgb: 94, 82, 64;
    --color-gray-200: #f5f5f5; --color-gray-400-rgb: 119, 124, 124; --color-red-500: #c0152f; --color-orange-500: #a84b2f; --color-slate-500: #626c71;
    --color-success-rgb: 33, 128, 141; --color-warning-rgb: 168, 75, 47; --color-info-rgb: 98, 108, 113; --color-error-rgb: 192, 21, 47;
    
    /* Typography */
    --font-family-base: "Inter", -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, sans-serif;
    --font-size-xs: 11px; --font-size-sm: 12px; --font-size-base: 14px; --font-size-lg: 16px; --font-size-xl: 18px;
    --font-size-2xl: 20px; --font-size-3xl: 24px; --font-size-4xl: 30px;
    --font-weight-normal: 400; --font-weight-medium: 500; --font-weight-semibold: 600; --font-weight-bold: 700;
    
    /* Spacing & Sizing */
    --space-4: 4px; --space-8: 8px; --space-12: 12px; --space-16: 16px; --space-20: 20px; --space-24: 24px; --space-32: 32px;
    --radius-base: 8px; --radius-md: 10px; --radius-lg: 12px; --radius-full: 9999px; --header-height: 70px;
    
    /* Effects */
    --shadow-sm: 0 1px 3px rgba(0,0,0,0.04), 0 1px 2px rgba(0,0,0,0.02);
    --shadow-md: 0 4px 6px -1px rgba(0,0,0,0.04), 0 2px 4px -1px rgba(0,0,0,0.02);
    --shadow-lg: 0 10px 15px -3px rgba(0,0,0,0.04), 0 4px 6px -2px rgba(0,0,0,0.02);
    --duration-fast: 150ms; --duration-normal: 250ms; --ease-standard: cubic-bezier(0.16, 1, 0.3, 1);
}

[data-color-scheme="light"] {
    --color-background: var(--color-cream-50); --color-surface: var(--color-white); --color-text: var(--color-slate-900);
    --color-text-secondary: var(--color-slate-500); --color-primary: var(--color-teal-500); --color-primary-hover: var(--color-teal-600);
    --color-border: rgba(var(--color-brown-600-rgb), 0.2); --color-card-border: rgba(var(--color-brown-600-rgb), 0.12);
    --color-btn-primary-text: var(--color-white); --color-secondary: rgba(var(--color-brown-600-rgb), 0.12);
    --color-success: var(--color-teal-500); --color-warning: var(--color-orange-500); --color-error: var(--color-red-500);
    --select-caret: url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 24 24' fill='none' stroke='%2313343b'%3E%3Cpath d='m6 9 6 6 6-6'/%3E%3C/svg%3E");
}

[data-color-scheme="dark"] {
    --color-background: var(--color-charcoal-700); --color-surface: var(--color-charcoal-800); --color-text: var(--color-gray-200);
    --color-text-secondary: rgba(var(--color-gray-200), 0.7); --color-primary: var(--color-teal-300); --color-primary-hover: #4ad1e0;
    --color-border: rgba(var(--color-gray-400-rgb), 0.3); --color-card-border: rgba(var(--color-gray-400-rgb), 0.15);
    --color-btn-primary-text: var(--color-slate-900); --color-secondary: rgba(var(--color-gray-400-rgb), 0.15);
    --color-success: var(--color-teal-300); --color-warning: #f59e0b; --color-error: #ef4444;
    --select-caret: url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 24 24' fill='none' stroke='%23f5f5f5'%3E%3Cpath d='m6 9 6 6 6-6'/%3E%3C/svg%3E");
}

/* ========== BASE & LAYOUT ========== */
*, *::before, *::after { box-sizing: border-box; }
html { font-family: var(--font-family-base); line-height: 1.5; color: var(--color-text); background-color: var(--color-background); -webkit-font-smoothing: antialiased; }
body { margin: 0; padding-top: var(--header-height); font-size: var(--font-size-base); }
.container { max-width: 1280px; margin: 0 auto; padding: 0 var(--space-16); }
.calculator-layout { display: grid; grid-template-columns: 1fr; gap: var(--space-24); align-items: start; }
@media (min-width: 1024px) { .calculator-layout { grid-template-columns: 380px 1fr; } }
@media (min-width: 1280px) { .calculator-layout { grid-template-columns: 380px 1fr 300px; } .ad-panel { display: flex; } }

/* ========== HEADER & HERO ========== */
.header { position: fixed; top: 0; left: 0; right: 0; background: var(--color-surface); border-bottom: 1px solid var(--color-card-border); box-shadow: var(--shadow-sm); z-index: 100; height: var(--header-height); }
.navbar .container { display: flex; align-items: center; justify-content: space-between; height: 100%; }
.nav-brand { display: flex; align-items: center; text-decoration: none; color: var(--color-primary); font-weight: var(--font-weight-bold); font-size: var(--font-size-xl); }
.brand-icon { margin-right: var(--space-8); }
.hero-section { padding: var(--space-32) 0; background: linear-gradient(135deg, var(--color-primary) 0%, var(--color-teal-300) 100%); color: var(--color-white); text-align: center; }
.hero-title { font-size: var(--font-size-4xl); margin-bottom: var(--space-16); }
.hero-subtitle { max-width: 700px; margin: 0 auto; opacity: 0.95; }

/* ========== PANELS & SECTIONS ========== */
.input-panel, .results-panel, .ad-panel { background: var(--color-surface); border-radius: var(--radius-lg); border: 1px solid var(--color-card-border); box-shadow: var(--shadow-md); }
.ad-panel { display: none; flex-direction: column; gap: var(--space-24); padding: var(--space-24); }
.ad-placeholder { border: 2px dashed var(--color-border); border-radius: var(--radius-lg); padding: var(--space-24); text-align: center; }
.input-panel { padding: var(--space-24); }
.panel-header { margin-bottom: var(--space-24); text-align: center; }
.panel-title { font-size: var(--font-size-2xl); font-weight: var(--font-weight-bold); }
.form-section { margin-bottom: var(--space-24); }
.section-title { font-size: var(--font-size-lg); font-weight: var(--font-weight-semibold); margin-bottom: var(--space-16); display: flex; align-items: center; gap: var(--space-8); }
.form-grid { display: grid; grid-template-columns: 1fr; gap: var(--space-16); }
@media (min-width: 480px) { .form-grid { grid-template-columns: 1fr 1fr; } }
@media (min-width: 1024px) { .form-grid { grid-template-columns: 1fr; } }
@media (min-width: 1280px) { .form-grid { grid-template-columns: 1fr 1fr; } }

/* ========== FORMS & BUTTONS ========== */
.form-group { margin-bottom: var(--space-16); }
.form-label { display: block; margin-bottom: var(--space-8); font-weight: var(--font-weight-medium); font-size: var(--font-size-sm); }
.input-group { position: relative; display: flex; align-items: center; }
.input-prefix, .input-suffix { position: absolute; color: var(--color-text-secondary); pointer-events: none; }
.input-prefix { left: var(--space-12); } .input-suffix { right: var(--space-12); }
.form-control { display: block; width: 100%; padding: var(--space-8) var(--space-12); font-size: var(--font-size-base); color: var(--color-text); background-color: var(--color-surface); border: 1px solid var(--color-border); border-radius: var(--radius-base); transition: all var(--duration-fast); }
.form-control[readonly] { background-color: var(--color-secondary); }
.input-group .form-control { padding-left: calc(var(--space-12) + 1em); }
.down-payment-percentage { margin-top: var(--space-4); font-size: var(--font-size-sm); color: var(--color-text-secondary); }
select.form-control { -webkit-appearance: none; appearance: none; background-image: var(--select-caret); background-repeat: no-repeat; background-position: right var(--space-12) center; background-size: 16px; padding-right: var(--space-32); }
.btn { display: inline-flex; align-items: center; justify-content: center; gap: var(--space-8); padding: var(--space-8) var(--space-16); border-radius: var(--radius-base); font-weight: var(--font-weight-medium); cursor: pointer; transition: all var(--duration-normal); border: none; }
.btn--outline { background: transparent; border: 1px solid var(--color-border); color: var(--color-text); }
.btn--sm { padding: var(--space-4) var(--space-12); font-size: var(--font-size-sm); }
.btn:disabled { opacity: 0.5; cursor: not-allowed; }
.global-share-actions { display: flex; gap: var(--space-8); }

/* ========== RESULTS PANEL ========== */
.results-panel { padding: 0; }
.result-section { padding: var(--space-24); border-bottom: 1px solid var(--color-card-border); }
.result-section:last-child { border: none; }
.section-header { display: flex; align-items: center; justify-content: space-between; margin-bottom: var(--space-20); }
.results-grid { display: grid; grid-template-columns: repeat(auto-fit, minmax(200px, 1fr)); gap: var(--space-16); }
.result-card { display: flex; align-items: center; gap: var(--space-12); padding: var(--space-16); background: var(--color-background); border-radius: var(--radius-md); border: 1px solid var(--color-card-border); }
.primary-result { background: linear-gradient(135deg, var(--color-primary), var(--color-teal-300)); color: var(--color-white); }
.primary-result .result-label, .primary-result .result-breakdown { color: rgba(255, 255, 255, 0.9); }
.primary-result .result-value { color: var(--color-white); }
.summary-card { background: var(--color-secondary); }
.result-icon { font-size: var(--font-size-2xl); flex-shrink: 0; }
.result-label { font-size: var(--font-size-sm); margin-bottom: var(--space-4); color: var(--color-text-secondary); }
.result-value { font-size: var(--font-size-xl); font-weight: var(--font-weight-bold); }
.result-breakdown { font-size: var(--font-size-xs); margin-top: var(--space-4); }

/* ========== EXTRA PAYMENT IMPACT ========== */
.extra-payment-impact { margin-top: var(--space-20); padding: var(--space-16); background: var(--color-success); border-radius: var(--radius-md); color: white; }
.impact-title { display: flex; align-items: center; gap: var(--space-8); font-size: var(--font-size-lg); margin-bottom: var(--space-12); }
.impact-grid { display: grid; grid-template-columns: repeat(auto-fit, minmax(120px, 1fr)); gap: var(--space-12); text-align: center; }
.impact-label { font-size: var(--font-size-xs); opacity: 0.9; }
.impact-value { font-size: var(--font-size-lg); font-weight: var(--font-weight-bold); }

/* ========== COLLAPSIBLE & AMORTIZATION ========== */
.collapsible-header { cursor: pointer; }
.collapsible-header .collapse-icon { transition: transform var(--duration-fast); }
.collapsible-header[aria-expanded="true"] .collapse-icon { transform: rotate(180deg); }
.collapsible-content { padding-top: var(--space-16); }
.amortization-controls { display: flex; justify-content: space-between; align-items: center; margin-bottom: var(--space-16); }
.view-toggle { display: flex; border: 1px solid var(--color-border); border-radius: var(--radius-base); overflow: hidden; }
.toggle-btn { padding: var(--space-8) var(--space-12); background: var(--color-surface); border: none; cursor: pointer; }
.toggle-btn.active { background: var(--color-primary); color: var(--color-btn-primary-text); }
.table-container { overflow-x: auto; border-radius: var(--radius-base); border: 1px solid var(--color-card-border); }
.amortization-table { width: 100%; border-collapse: collapse; font-size: var(--font-size-sm); }
.amortization-table th, .amortization-table td { padding: var(--space-8) var(--space-12); text-align: left; border-bottom: 1px solid var(--color-card-border); }
.amortization-table th { background: var(--color-secondary); font-weight: var(--font-weight-semibold); }
.amortization-pagination { display: flex; justify-content: center; align-items: center; gap: var(--space-16); margin-top: var(--space-16); }

/* ========== AI INSIGHTS ========== */
.insights-container { display: grid; gap: var(--space-16); }
.insight-card { display: flex; gap: var(--space-12); padding: var(--space-16); border-radius: var(--radius-md); border-left: 4px solid; }
.insight-card.success { border-color: var(--color-success); background: rgba(var(--color-success-rgb), 0.1); }
.insight-card.warning { border-color: var(--color-warning); background: rgba(var(--color-warning-rgb), 0.1); }
.insight-card.tip { border-color: var(--color-primary); background: rgba(var(--color-info-rgb), 0.1); }
.insight-title { font-size: var(--font-size-base); font-weight: var(--font-weight-semibold); margin-bottom: var(--space-4); }
.insight-text { font-size: var(--font-size-sm); color: var(--color-text-secondary); margin: 0; }

/* ========== TIMELINE CHART & SLIDER ========== */
.timeline-container { background: var(--color-background); border-radius: var(--radius-md); padding: var(--space-16); }
.timeline-stats { display: grid; grid-template-columns: repeat(auto-fit, minmax(150px, 1fr)); gap: var(--space-16); margin-bottom: var(--space-20); text-align: center; }
.chart-container { height: 300px; margin-bottom: var(--space-20); }
.year-slider { width: 100%; -webkit-appearance: none; height: 6px; background: var(--color-secondary); border-radius: var(--radius-full); outline: none; cursor: pointer; }
.year-slider::-webkit-slider-thumb { -webkit-appearance: none; width: 20px; height: 20px; background: var(--color-primary); border-radius: var(--radius-full); }
.slider-labels { display: flex; justify-content: space-between; margin-top: var(--space-8); font-size: var(--font-size-xs); color: var(--color-text-secondary); }

/* ========== RELATED CALCULATORS & FOOTER ========== */
.related-calculators-section { margin-top: var(--space-32); padding: var(--space-32); background: var(--color-surface); border-radius: var(--radius-lg); border: 1px solid var(--color-card-border); }
.related-calculators-section .section-header { text-align: center; margin-bottom: var(--space-32); }
.calculators-grid { display: grid; grid-template-columns: repeat(auto-fit, minmax(280px, 1fr)); gap: var(--space-20); }
.calculator-card { display: flex; flex-direction: column; padding: var(--space-20); background: var(--color-background); border-radius: var(--radius-md); border: 1px solid var(--color-card-border); transition: all var(--duration-normal); text-decoration: none; color: var(--color-text); }
.calculator-card:hover { border-color: var(--color-primary); transform: translateY(-4px); box-shadow: var(--shadow-lg); }
.calculator-content { flex: 1; text-align: left; }
.calculator-title { font-size: var(--font-size-lg); } .calculator-description { font-size: var(--font-size-sm); color: var(--color-text-secondary); margin: var(--space-8) 0 var(--space-16); }
.calculator-link { display: inline-flex; align-items: center; gap: var(--space-8); color: var(--color-primary); font-weight: var(--font-weight-medium); }
.calculator-link .link-arrow { transition: transform var(--duration-fast); } .calculator-card:hover .link-arrow { transform: translateX(4px); }
.footer { background: var(--color-surface); border-top: 1px solid var(--color-card-border); padding: var(--space-32) 0; margin-top: var(--space-32); }
.footer-bottom { border-top: 1px solid var(--color-card-border); padding-top: var(--space-20); text-align: center; font-size: var(--font-size-xs); color: var(--color-text-secondary); }

/* ========== MODALS & OVERLAYS ========== */
.toast-container { position: fixed; top: calc(var(--header-height) + 16px); right: 16px; z-index: 1100; }
.toast { padding: var(--space-12); background: var(--color-surface); border: 1px solid var(--color-border); border-radius: var(--radius-base); box-shadow: var(--shadow-lg); display: flex; align-items: center; gap: var(--space-8); }
.loading-overlay { position: fixed; top: 0; left: 0; right: 0; bottom: 0; background: rgba(0,0,0,0.5); z-index: 1200; display: flex; align-items: center; justify-content: center; color: white; }
.spinner { width: 40px; height: 40px; border: 4px solid rgba(255,255,255,0.3); border-top-color: var(--color-primary); border-radius: 50%; animation: spin 1s linear infinite; }
@keyframes spin { to { transform: rotate(360deg); } }
.modal { position: fixed; top: 0; left: 0; right: 0; bottom: 0; z-index: 1000; display: none; align-items: center; justify-content: center; }
.modal-overlay { position: absolute; inset: 0; background: rgba(0,0,0,0.5); }
.modal-content { position: relative; background: var(--color-surface); border-radius: var(--radius-lg); box-shadow: var(--shadow-lg); max-width: 500px; width: 90%; }
.modal-header { display: flex; justify-content: space-between; align-items: center; padding: var(--space-16); border-bottom: 1px solid var(--color-card-border); }
.modal-close { background: none; border: none; font-size: 1.5rem; cursor: pointer; }
.modal-body { padding: var(--space-16); }
